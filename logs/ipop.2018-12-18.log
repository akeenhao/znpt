2018-12-18 16:30:02,754 WARN  [restartedMain] ConfigServicePropertySourceLocator: Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/ipop/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-12-18 16:30:02,756 INFO  [restartedMain] AdminApp: The following profiles are active: swagger,no-liquibase,dev
2018-12-18 16:30:08,510 DEBUG [restartedMain] AsyncConfiguration: Creating Async Task Executor
2018-12-18 16:30:09,026 DEBUG [restartedMain] MetricsConfiguration: Registering JVM gauges
2018-12-18 16:30:09,042 DEBUG [restartedMain] MetricsConfiguration: Initializing Metrics JMX reporting
2018-12-18 16:30:09,858 DEBUG [restartedMain] WebConfigurer: Registering CORS filter
2018-12-18 16:30:10,015 INFO  [restartedMain] WebConfigurer: Web application configuration, using profiles: swagger
2018-12-18 16:30:10,015 DEBUG [restartedMain] WebConfigurer: Initializing Metrics registries
2018-12-18 16:30:10,015 DEBUG [restartedMain] WebConfigurer: Registering Metrics Filter
2018-12-18 16:30:10,015 DEBUG [restartedMain] WebConfigurer: Registering Metrics Servlet
2018-12-18 16:30:10,015 INFO  [restartedMain] WebConfigurer: Web application fully configured
2018-12-18 16:30:10,468 DEBUG [restartedMain] AsyncSpringLiquibase: Liquibase is disabled
2018-12-18 16:30:17,819 WARN  [restartedMain] MetadataContext: HHH015011: Unable to locate static metamodel field : com.sgm.ipop.admin.domain.QlScope_#product; this may or may not indicate a problem with the static metamodel
2018-12-18 16:30:17,819 WARN  [restartedMain] MetadataContext: HHH015011: Unable to locate static metamodel field : com.sgm.ipop.admin.domain.QlFeature_#product; this may or may not indicate a problem with the static metamodel
2018-12-18 16:30:18,116 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:30:18,131 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:30:18,131 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:30:18,131 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:30:18,131 DEBUG [restartedMain] JPushClient: jpush配置初始化成功！
2018-12-18 16:30:25,389 DEBUG [restartedMain] Reflections: going to scan these urls:
file:/D:/SGM/IPOP-server/target/classes/
2018-12-18 16:30:25,545 INFO  [restartedMain] Reflections: Reflections took 124 ms to scan 1 urls, producing 216 keys and 1546 values 
2018-12-18 16:30:25,576 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.security.config.annotation.web.WebSecurityConfigurer -> org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter
2018-12-18 16:30:25,576 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.security.config.annotation.SecurityConfigurer -> org.springframework.security.config.annotation.web.WebSecurityConfigurer
2018-12-18 16:30:25,576 DEBUG [restartedMain] Reflections: expanded subtype javax.servlet.Filter -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:30:25,576 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.BeanNameAware -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:30:25,576 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.beans.factory.BeanNameAware
2018-12-18 16:30:25,576 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.context.EnvironmentAware -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:30:25,576 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.context.EnvironmentAware
2018-12-18 16:30:25,576 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.core.env.EnvironmentCapable -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:30:25,576 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.web.context.ServletContextAware -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:30:25,576 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.web.context.ServletContextAware
2018-12-18 16:30:25,576 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.InitializingBean -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:30:25,576 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.DisposableBean -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:30:25,576 DEBUG [restartedMain] Reflections: expanded subtype java.lang.RuntimeException -> org.springframework.security.core.AuthenticationException
2018-12-18 16:30:25,576 DEBUG [restartedMain] Reflections: expanded subtype java.lang.Exception -> java.lang.RuntimeException
2018-12-18 16:30:25,592 DEBUG [restartedMain] Reflections: expanded subtype java.lang.Throwable -> java.lang.Exception
2018-12-18 16:30:25,592 DEBUG [restartedMain] Reflections: expanded subtype java.io.Serializable -> java.lang.Throwable
2018-12-18 16:30:25,592 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:30:25,592 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.ProblemAdviceTrait -> org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait
2018-12-18 16:30:25,592 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.general.ProblemAdviceTrait
2018-12-18 16:30:25,592 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.ThrowableAdviceTrait -> org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait
2018-12-18 16:30:25,592 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.general.ThrowableAdviceTrait
2018-12-18 16:30:25,592 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.UnsupportedOperationAdviceTrait -> org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait
2018-12-18 16:30:25,592 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.general.UnsupportedOperationAdviceTrait
2018-12-18 16:30:25,592 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.HttpAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:30:25,592 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.NotAcceptableAdviceTrait -> org.zalando.problem.spring.web.advice.http.HttpAdviceTrait
2018-12-18 16:30:25,592 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.http.NotAcceptableAdviceTrait
2018-12-18 16:30:25,592 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.UnsupportedMediaTypeAdviceTrait -> org.zalando.problem.spring.web.advice.http.HttpAdviceTrait
2018-12-18 16:30:25,592 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.http.UnsupportedMediaTypeAdviceTrait
2018-12-18 16:30:25,607 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.MethodNotAllowedAdviceTrait -> org.zalando.problem.spring.web.advice.http.HttpAdviceTrait
2018-12-18 16:30:25,607 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.http.MethodNotAllowedAdviceTrait
2018-12-18 16:30:25,607 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.IOAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:30:25,607 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.MessageNotReadableAdviceTrait -> org.zalando.problem.spring.web.advice.io.IOAdviceTrait
2018-12-18 16:30:25,607 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.io.MessageNotReadableAdviceTrait
2018-12-18 16:30:25,607 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.MultipartAdviceTrait -> org.zalando.problem.spring.web.advice.io.IOAdviceTrait
2018-12-18 16:30:25,607 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.io.MultipartAdviceTrait
2018-12-18 16:30:25,607 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.TypeMistmatchAdviceTrait -> org.zalando.problem.spring.web.advice.io.IOAdviceTrait
2018-12-18 16:30:25,607 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.io.TypeMistmatchAdviceTrait
2018-12-18 16:30:25,607 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:30:25,607 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.MissingServletRequestParameterAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:30:25,607 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.MissingServletRequestParameterAdviceTrait
2018-12-18 16:30:25,607 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.MissingServletRequestPartAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:30:25,623 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.MissingServletRequestPartAdviceTrait
2018-12-18 16:30:25,623 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.NoHandlerFoundAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:30:25,623 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.NoHandlerFoundAdviceTrait
2018-12-18 16:30:25,623 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.ServletRequestBindingAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:30:25,623 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.ServletRequestBindingAdviceTrait
2018-12-18 16:30:25,623 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.security.SecurityAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:30:25,623 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.security.AuthenticationAdviceTrait -> org.zalando.problem.spring.web.advice.security.SecurityAdviceTrait
2018-12-18 16:30:25,623 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.security.AuthenticationAdviceTrait
2018-12-18 16:30:25,623 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.security.AccessDeniedAdviceTrait -> org.zalando.problem.spring.web.advice.security.SecurityAdviceTrait
2018-12-18 16:30:25,623 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.security.AccessDeniedAdviceTrait
2018-12-18 16:30:25,623 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:30:25,623 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.ConstraintViolationAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait
2018-12-18 16:30:25,623 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseValidationAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ConstraintViolationAdviceTrait
2018-12-18 16:30:25,639 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.validation.BaseValidationAdviceTrait
2018-12-18 16:30:25,639 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BindAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait
2018-12-18 16:30:25,639 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseBindingResultAdviceTrait -> org.zalando.problem.spring.web.advice.validation.BindAdviceTrait
2018-12-18 16:30:25,639 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseValidationAdviceTrait -> org.zalando.problem.spring.web.advice.validation.BaseBindingResultAdviceTrait
2018-12-18 16:30:25,639 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.MethodArgumentNotValidAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait
2018-12-18 16:30:25,639 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseBindingResultAdviceTrait -> org.zalando.problem.spring.web.advice.validation.MethodArgumentNotValidAdviceTrait
2018-12-18 16:30:25,639 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.cache.annotation.CachingConfigurer -> org.springframework.cache.annotation.CachingConfigurerSupport
2018-12-18 16:30:25,639 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.web.WebApplicationInitializer -> org.springframework.boot.web.support.SpringBootServletInitializer
2018-12-18 16:30:25,639 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.web.servlet.config.annotation.WebMvcConfigurer -> org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter
2018-12-18 16:30:25,639 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.jpa.repository.JpaRepository -> com.sgm.ipop.common.repository.base.BaseRepository
2018-12-18 16:30:25,639 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.PagingAndSortingRepository -> org.springframework.data.jpa.repository.JpaRepository
2018-12-18 16:30:25,639 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.CrudRepository -> org.springframework.data.repository.PagingAndSortingRepository
2018-12-18 16:30:25,639 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.Repository -> org.springframework.data.repository.CrudRepository
2018-12-18 16:30:25,654 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.query.QueryByExampleExecutor -> org.springframework.data.jpa.repository.JpaRepository
2018-12-18 16:30:25,654 DEBUG [restartedMain] Reflections: expanded subtype ch.qos.logback.core.spi.ContextAware -> ch.qos.logback.core.spi.ContextAwareBase
2018-12-18 16:30:25,654 DEBUG [restartedMain] Reflections: expanded subtype java.lang.Comparable -> java.lang.Enum
2018-12-18 16:30:25,654 DEBUG [restartedMain] Reflections: expanded subtype java.io.Serializable -> java.lang.Enum
2018-12-18 16:30:25,654 DEBUG [restartedMain] Reflections: expanded subtype com.ryantenney.metrics.spring.config.annotation.MetricsConfigurer -> com.ryantenney.metrics.spring.config.annotation.MetricsConfigurerAdapter
2018-12-18 16:30:25,654 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.DisposableBean -> com.ryantenney.metrics.spring.config.annotation.MetricsConfigurerAdapter
2018-12-18 16:30:25,654 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.security.config.annotation.SecurityConfigurer -> org.springframework.security.config.annotation.SecurityConfigurerAdapter
2018-12-18 16:30:25,654 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.ThrowableProblem -> org.zalando.problem.AbstractThrowableProblem
2018-12-18 16:30:25,654 DEBUG [restartedMain] Reflections: expanded subtype java.lang.RuntimeException -> org.zalando.problem.ThrowableProblem
2018-12-18 16:30:25,654 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.Problem -> org.zalando.problem.ThrowableProblem
2018-12-18 16:30:25,654 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.Exceptional -> org.zalando.problem.ThrowableProblem
2018-12-18 16:30:25,654 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.Problem -> org.zalando.problem.Exceptional
2018-12-18 16:30:25,654 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.BeanFactoryAware -> org.springframework.cloud.config.java.AbstractCloudConfig
2018-12-18 16:30:25,654 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.beans.factory.BeanFactoryAware
2018-12-18 16:30:26,246 WARN  [restartedMain] AnnotationConfigEmbeddedWebApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'msgGroupServiceImpl' defined in file [D:\SGM\IPOP-server\target\classes\com\sgm\ipop\admin\service\impl\MsgGroupServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.sgm.ipop.admin.service.mapper.MsgGroupMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2018-12-18 16:30:26,949 ERROR [restartedMain] LoggingFailureAnalysisReporter: 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.sgm.ipop.admin.service.impl.MsgGroupServiceImpl required a bean of type 'com.sgm.ipop.admin.service.mapper.MsgGroupMapper' that could not be found.


Action:

Consider defining a bean of type 'com.sgm.ipop.admin.service.mapper.MsgGroupMapper' in your configuration.

2018-12-18 16:34:10,005 WARN  [restartedMain] ConfigServicePropertySourceLocator: Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/ipop/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-12-18 16:34:10,005 INFO  [restartedMain] AdminApp: The following profiles are active: swagger,no-liquibase,dev
2018-12-18 16:34:13,437 DEBUG [restartedMain] AsyncConfiguration: Creating Async Task Executor
2018-12-18 16:34:13,818 DEBUG [restartedMain] MetricsConfiguration: Registering JVM gauges
2018-12-18 16:34:13,818 DEBUG [restartedMain] MetricsConfiguration: Initializing Metrics JMX reporting
2018-12-18 16:34:14,537 DEBUG [restartedMain] WebConfigurer: Registering CORS filter
2018-12-18 16:34:14,677 INFO  [restartedMain] WebConfigurer: Web application configuration, using profiles: swagger
2018-12-18 16:34:14,677 DEBUG [restartedMain] WebConfigurer: Initializing Metrics registries
2018-12-18 16:34:14,677 DEBUG [restartedMain] WebConfigurer: Registering Metrics Filter
2018-12-18 16:34:14,677 DEBUG [restartedMain] WebConfigurer: Registering Metrics Servlet
2018-12-18 16:34:14,677 INFO  [restartedMain] WebConfigurer: Web application fully configured
2018-12-18 16:34:15,062 DEBUG [restartedMain] AsyncSpringLiquibase: Liquibase is disabled
2018-12-18 16:34:22,887 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:34:22,981 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:34:22,981 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:34:22,981 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:34:22,981 DEBUG [restartedMain] JPushClient: jpush配置初始化成功！
2018-12-18 16:34:28,186 DEBUG [restartedMain] Reflections: going to scan these urls:
file:/D:/SGM/IPOP-server/target/classes/
2018-12-18 16:34:28,295 INFO  [restartedMain] Reflections: Reflections took 109 ms to scan 1 urls, producing 220 keys and 1562 values 
2018-12-18 16:34:28,358 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.security.config.annotation.web.WebSecurityConfigurer -> org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter
2018-12-18 16:34:28,358 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.security.config.annotation.SecurityConfigurer -> org.springframework.security.config.annotation.web.WebSecurityConfigurer
2018-12-18 16:34:28,358 DEBUG [restartedMain] Reflections: expanded subtype javax.servlet.Filter -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:34:28,358 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.BeanNameAware -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:34:28,358 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.beans.factory.BeanNameAware
2018-12-18 16:34:28,358 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.context.EnvironmentAware -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:34:28,358 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.context.EnvironmentAware
2018-12-18 16:34:28,358 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.core.env.EnvironmentCapable -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:34:28,358 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.web.context.ServletContextAware -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:34:28,358 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.web.context.ServletContextAware
2018-12-18 16:34:28,358 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.InitializingBean -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:34:28,358 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.DisposableBean -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:34:28,358 DEBUG [restartedMain] Reflections: expanded subtype java.lang.RuntimeException -> org.springframework.security.core.AuthenticationException
2018-12-18 16:34:28,358 DEBUG [restartedMain] Reflections: expanded subtype java.lang.Exception -> java.lang.RuntimeException
2018-12-18 16:34:28,373 DEBUG [restartedMain] Reflections: expanded subtype java.lang.Throwable -> java.lang.Exception
2018-12-18 16:34:28,373 DEBUG [restartedMain] Reflections: expanded subtype java.io.Serializable -> java.lang.Throwable
2018-12-18 16:34:28,373 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:34:28,373 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.ProblemAdviceTrait -> org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait
2018-12-18 16:34:28,373 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.general.ProblemAdviceTrait
2018-12-18 16:34:28,373 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.ThrowableAdviceTrait -> org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait
2018-12-18 16:34:28,373 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.general.ThrowableAdviceTrait
2018-12-18 16:34:28,373 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.UnsupportedOperationAdviceTrait -> org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait
2018-12-18 16:34:28,373 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.general.UnsupportedOperationAdviceTrait
2018-12-18 16:34:28,373 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.HttpAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:34:28,373 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.NotAcceptableAdviceTrait -> org.zalando.problem.spring.web.advice.http.HttpAdviceTrait
2018-12-18 16:34:28,373 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.http.NotAcceptableAdviceTrait
2018-12-18 16:34:28,373 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.UnsupportedMediaTypeAdviceTrait -> org.zalando.problem.spring.web.advice.http.HttpAdviceTrait
2018-12-18 16:34:28,373 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.http.UnsupportedMediaTypeAdviceTrait
2018-12-18 16:34:28,389 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.MethodNotAllowedAdviceTrait -> org.zalando.problem.spring.web.advice.http.HttpAdviceTrait
2018-12-18 16:34:28,389 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.http.MethodNotAllowedAdviceTrait
2018-12-18 16:34:28,389 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.IOAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:34:28,389 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.MessageNotReadableAdviceTrait -> org.zalando.problem.spring.web.advice.io.IOAdviceTrait
2018-12-18 16:34:28,389 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.io.MessageNotReadableAdviceTrait
2018-12-18 16:34:28,389 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.MultipartAdviceTrait -> org.zalando.problem.spring.web.advice.io.IOAdviceTrait
2018-12-18 16:34:28,389 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.io.MultipartAdviceTrait
2018-12-18 16:34:28,389 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.TypeMistmatchAdviceTrait -> org.zalando.problem.spring.web.advice.io.IOAdviceTrait
2018-12-18 16:34:28,389 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.io.TypeMistmatchAdviceTrait
2018-12-18 16:34:28,389 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:34:28,389 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.MissingServletRequestParameterAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:34:28,389 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.MissingServletRequestParameterAdviceTrait
2018-12-18 16:34:28,389 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.MissingServletRequestPartAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:34:28,404 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.MissingServletRequestPartAdviceTrait
2018-12-18 16:34:28,404 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.NoHandlerFoundAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:34:28,404 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.NoHandlerFoundAdviceTrait
2018-12-18 16:34:28,404 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.ServletRequestBindingAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:34:28,404 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.ServletRequestBindingAdviceTrait
2018-12-18 16:34:28,404 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.security.SecurityAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:34:28,404 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.security.AuthenticationAdviceTrait -> org.zalando.problem.spring.web.advice.security.SecurityAdviceTrait
2018-12-18 16:34:28,404 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.security.AuthenticationAdviceTrait
2018-12-18 16:34:28,404 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.security.AccessDeniedAdviceTrait -> org.zalando.problem.spring.web.advice.security.SecurityAdviceTrait
2018-12-18 16:34:28,404 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.security.AccessDeniedAdviceTrait
2018-12-18 16:34:28,404 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:34:28,404 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.ConstraintViolationAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait
2018-12-18 16:34:28,404 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseValidationAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ConstraintViolationAdviceTrait
2018-12-18 16:34:28,420 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.validation.BaseValidationAdviceTrait
2018-12-18 16:34:28,420 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BindAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait
2018-12-18 16:34:28,420 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseBindingResultAdviceTrait -> org.zalando.problem.spring.web.advice.validation.BindAdviceTrait
2018-12-18 16:34:28,420 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseValidationAdviceTrait -> org.zalando.problem.spring.web.advice.validation.BaseBindingResultAdviceTrait
2018-12-18 16:34:28,420 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.MethodArgumentNotValidAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait
2018-12-18 16:34:28,420 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseBindingResultAdviceTrait -> org.zalando.problem.spring.web.advice.validation.MethodArgumentNotValidAdviceTrait
2018-12-18 16:34:28,420 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.cache.annotation.CachingConfigurer -> org.springframework.cache.annotation.CachingConfigurerSupport
2018-12-18 16:34:28,420 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.web.WebApplicationInitializer -> org.springframework.boot.web.support.SpringBootServletInitializer
2018-12-18 16:34:28,420 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.web.servlet.config.annotation.WebMvcConfigurer -> org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter
2018-12-18 16:34:28,420 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.jpa.repository.JpaRepository -> com.sgm.ipop.common.repository.base.BaseRepository
2018-12-18 16:34:28,420 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.PagingAndSortingRepository -> org.springframework.data.jpa.repository.JpaRepository
2018-12-18 16:34:28,420 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.CrudRepository -> org.springframework.data.repository.PagingAndSortingRepository
2018-12-18 16:34:28,420 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.Repository -> org.springframework.data.repository.CrudRepository
2018-12-18 16:34:28,436 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.query.QueryByExampleExecutor -> org.springframework.data.jpa.repository.JpaRepository
2018-12-18 16:34:28,436 DEBUG [restartedMain] Reflections: expanded subtype ch.qos.logback.core.spi.ContextAware -> ch.qos.logback.core.spi.ContextAwareBase
2018-12-18 16:34:28,436 DEBUG [restartedMain] Reflections: expanded subtype java.lang.Comparable -> java.lang.Enum
2018-12-18 16:34:28,436 DEBUG [restartedMain] Reflections: expanded subtype java.io.Serializable -> java.lang.Enum
2018-12-18 16:34:28,436 DEBUG [restartedMain] Reflections: expanded subtype com.ryantenney.metrics.spring.config.annotation.MetricsConfigurer -> com.ryantenney.metrics.spring.config.annotation.MetricsConfigurerAdapter
2018-12-18 16:34:28,436 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.DisposableBean -> com.ryantenney.metrics.spring.config.annotation.MetricsConfigurerAdapter
2018-12-18 16:34:28,436 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.security.config.annotation.SecurityConfigurer -> org.springframework.security.config.annotation.SecurityConfigurerAdapter
2018-12-18 16:34:28,436 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.ThrowableProblem -> org.zalando.problem.AbstractThrowableProblem
2018-12-18 16:34:28,436 DEBUG [restartedMain] Reflections: expanded subtype java.lang.RuntimeException -> org.zalando.problem.ThrowableProblem
2018-12-18 16:34:28,436 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.Problem -> org.zalando.problem.ThrowableProblem
2018-12-18 16:34:28,436 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.Exceptional -> org.zalando.problem.ThrowableProblem
2018-12-18 16:34:28,436 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.Problem -> org.zalando.problem.Exceptional
2018-12-18 16:34:28,436 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.BeanFactoryAware -> org.springframework.cloud.config.java.AbstractCloudConfig
2018-12-18 16:34:28,436 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.beans.factory.BeanFactoryAware
2018-12-18 16:34:30,565 DEBUG [restartedMain] TimerManager: 初始化loader并执行timerManager.burst();
2018-12-18 16:34:30,565 INFO  [restartedMain] TimerManager: timer start
2018-12-18 16:34:30,581 INFO  [restartedMain] StdSchedulerFactory: Using default implementation for ThreadExecutor
2018-12-18 16:34:30,581 INFO  [restartedMain] SimpleThreadPool: Job execution threads will use class loader of thread: restartedMain
2018-12-18 16:34:30,581 INFO  [restartedMain] SchedulerSignalerImpl: Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-12-18 16:34:30,581 INFO  [restartedMain] QuartzScheduler: Quartz Scheduler v.2.2.1 created.
2018-12-18 16:34:30,581 INFO  [restartedMain] RAMJobStore: RAMJobStore initialized.
2018-12-18 16:34:30,596 INFO  [restartedMain] QuartzScheduler: Scheduler meta-data: Quartz Scheduler (v2.2.1) 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-12-18 16:34:30,596 INFO  [restartedMain] StdSchedulerFactory: Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
2018-12-18 16:34:30,596 INFO  [restartedMain] StdSchedulerFactory: Quartz scheduler version: 2.2.1
2018-12-18 16:34:30,596 INFO  [restartedMain] QuartzScheduler: Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2018-12-18 16:34:30,596 DEBUG [DefaultQuartzScheduler_QuartzSchedulerThread] QuartzSchedulerThread: batch acquisition of 0 triggers
2018-12-18 16:34:31,581 DEBUG [Timer-0] UpdateChecker: Checking for available updated version of Quartz...
2018-12-18 16:34:34,835 DEBUG [Timer-0] UpdateChecker: Quartz version update check failed: connect timed out
2018-12-18 16:34:35,663 WARN  [restartedMain] URLConfigurationSource: No URLs will be polled as dynamic configuration sources.
2018-12-18 16:34:35,663 WARN  [restartedMain] URLConfigurationSource: No URLs will be polled as dynamic configuration sources.
2018-12-18 16:34:36,370 DEBUG [restartedMain] SwaggerConfiguration: Starting Swagger
2018-12-18 16:34:36,417 DEBUG [restartedMain] SwaggerConfiguration: Started Swagger in 47 ms
2018-12-18 16:34:39,102 INFO  [restartedMain] DiscoveryClient: Initializing Eureka in region us-east-1
2018-12-18 16:34:39,477 INFO  [restartedMain] DiscoveryJerseyProvider: Using JSON encoding codec LegacyJacksonJson
2018-12-18 16:34:39,477 INFO  [restartedMain] DiscoveryJerseyProvider: Using JSON decoding codec LegacyJacksonJson
2018-12-18 16:34:39,919 INFO  [restartedMain] DiscoveryJerseyProvider: Using XML encoding codec XStreamXml
2018-12-18 16:34:39,919 INFO  [restartedMain] DiscoveryJerseyProvider: Using XML decoding codec XStreamXml
2018-12-18 16:34:40,841 INFO  [restartedMain] ConfigClusterResolver: Resolving eureka endpoints via configuration
2018-12-18 16:34:40,966 INFO  [restartedMain] DiscoveryClient: Disable delta property : false
2018-12-18 16:34:40,966 INFO  [restartedMain] DiscoveryClient: Single vip registry refresh property : null
2018-12-18 16:34:40,966 INFO  [restartedMain] DiscoveryClient: Force full registry fetch : false
2018-12-18 16:34:40,966 INFO  [restartedMain] DiscoveryClient: Application is null : false
2018-12-18 16:34:40,982 INFO  [restartedMain] DiscoveryClient: Registered Applications size is zero : true
2018-12-18 16:34:40,982 INFO  [restartedMain] DiscoveryClient: Application version is -1: true
2018-12-18 16:34:40,982 INFO  [restartedMain] DiscoveryClient: Getting all instance registry info from the eureka server
2018-12-18 16:34:42,231 INFO  [restartedMain] DiscoveryClient: The response status is 200
2018-12-18 16:34:42,247 INFO  [restartedMain] DiscoveryClient: Starting heartbeat executor: renew interval is: 5
2018-12-18 16:34:42,247 INFO  [restartedMain] InstanceInfoReplicator: InstanceInfoReplicator onDemand update allowed rate per min is 12
2018-12-18 16:34:42,247 INFO  [restartedMain] DiscoveryClient: Discovery Client initialized at timestamp 1545122082247 with initial instances count: 5
2018-12-18 16:34:42,278 INFO  [restartedMain] DiscoveryClient: Saw local status change event StatusChangeEvent [timestamp=1545122082278, current=UP, previous=STARTING]
2018-12-18 16:34:44,626 WARN  [DiscoveryClient-InstanceInfoReplicator-0] ConfigServicePropertySourceLocator: Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/ipop/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-12-18 16:34:44,799 INFO  [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient: DiscoveryClient_IPOP/ipop:d0efd4ea05de3b47eda2538d4fd38697: registering service...
2018-12-18 16:34:44,955 INFO  [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient: DiscoveryClient_IPOP/ipop:d0efd4ea05de3b47eda2538d4fd38697 - registration status: 204
2018-12-18 16:34:45,455 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "b671389001e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:34:48", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:34:45,455 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "b671389001e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:34:48", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:34:45,471 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:34:45,471 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:34:45,471 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "b671d4d101e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:35:04", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:34:45,471 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "b671d4d101e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:35:04", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:34:45,471 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:34:45,471 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:34:45,471 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "e3f1a0c001e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:35:18", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "316.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:34:45,471 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "e3f1a0c001e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:35:18", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "316.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:34:45,549 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.web.rest.AlarmHistoryResource.receiveAlarmMessage() with argument[s] = [AlarmHistoryDTO{id=null, createdDate=null, equipment='null', mould='null', description='null', recordId='e3f1a0c001e611e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:35:18', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=316.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}]
2018-12-18 16:34:45,549 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 保存到tt_alarm_history : AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='e3f1a0c001e611e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:35:18', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=316.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:45,612 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.saveMessage() with argument[s] = [AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='e3f1a0c001e611e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:35:18', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=316.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}]
2018-12-18 16:34:45,612 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='e3f1a0c001e611e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:35:18', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=316.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:46,101 WARN  [DiscoveryClient-InstanceInfoReplicator-0] ConfigServicePropertySourceLocator: Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/ipop/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-12-18 16:34:46,180 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.saveMessage() with result = AlarmHistoryDTO{id=197395, createdDate=2018-12-18T08:34:45.612Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='e3f1a0c001e611e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:35:18', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=316.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:46,398 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认是否配置了报警等级规则（tm_alarm_level_rule） alarm_code=PressBrake11_ 
2018-12-18 16:34:46,430 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.findCode() with argument[s] = [PressBrake11_]
2018-12-18 16:34:46,570 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.findCode() with result = true
2018-12-18 16:34:46,586 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认结果是true
2018-12-18 16:34:46,586 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 查找报警状态tm_alarm_state param:PressBrake11_ JQNPPR_1PRP1OP20PRS01CRN001C1 null
2018-12-18 16:34:46,601 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.findOneByCodeAndEquipmentAndMould() with argument[s] = [PressBrake11_, JQNPPR_1PRP1OP20PRS01CRN001C1, null]
2018-12-18 16:34:46,633 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.findOneByCodeAndEquipmentAndMould() with result = AlarmStateDTO{id=197383, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='356.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:33:21.407Z, isSend=false, num=3, lastAlarmTime=2018-12-18T08:34:26.816Z, level=1, isLive=false, startTime=null, endTime=null}
2018-12-18 16:34:46,664 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断是否到期 key:rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1
2018-12-18 16:34:46,664 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.RedisServiceImpl.exists() with argument[s] = [rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1]
2018-12-18 16:34:46,804 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.RedisServiceImpl.exists() with result = false
2018-12-18 16:34:46,804 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断结果:false
2018-12-18 16:34:46,804 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.RedisServiceImpl.exists() with argument[s] = [rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1]
2018-12-18 16:34:46,898 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.RedisServiceImpl.exists() with result = false
2018-12-18 16:34:46,898 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.createNewAlarmState() with argument[s] = [AlarmHistoryDTO{id=197395, createdDate=2018-12-18T08:34:45.612Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='e3f1a0c001e611e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:35:18', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=316.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}, AlarmStateDTO{id=197383, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='356.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:33:21.407Z, isSend=false, num=3, lastAlarmTime=2018-12-18T08:34:26.816Z, level=1, isLive=false, startTime=null, endTime=null}]
2018-12-18 16:34:46,960 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.updateLive() with argument[s] = [PressBrake11_, JQNPPR_1PRP1OP20PRS01CRN001C1, null]
2018-12-18 16:34:47,023 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.updateLive() with result = null
2018-12-18 16:34:47,038 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.save() with argument[s] = [AlarmStateDTO{id=null, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=1, lastAlarmTime=2018-12-18T08:34:47.038Z, level=0, isLive=false, startTime=null, endTime=null}]
2018-12-18 16:34:47,038 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmStateServiceImpl: Request to save AlarmState : AlarmStateDTO{id=null, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=1, lastAlarmTime=2018-12-18T08:34:47.038Z, level=0, isLive=false, startTime=null, endTime=null}
2018-12-18 16:34:47,069 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.save() with result = AlarmStateDTO{id=197396, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=1, lastAlarmTime=2018-12-18T08:34:47.038Z, level=0, isLive=false, startTime=null, endTime=null}
2018-12-18 16:34:47,132 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendUtil: alarm send START alarmCode:PressBrake11_ alarmLevel:0 equipmentCode:JQNPPR_1PRP1OP20PRS01CRN001C1 mouldCode:null,alarmValue:316.0
2018-12-18 16:34:47,445 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.SendTemplateServiceImpl.queryByCodeLevel() with argument[s] = [SendTemplateDTO{id=null, templateCode='null', templateName='null', templateDesc='null', templateContent='null', sendType=null, sendTheme='null', isDelete='null', createdBy='null', createdDate='null', lastModifiedBy='null', lastModifiedDate='null'}]
2018-12-18 16:34:47,569 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.SendTemplateServiceImpl.queryByCodeLevel() with result = []
2018-12-18 16:34:47,569 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendUtil: 模板未找到 code:PressBrake11_ level:0
2018-12-18 16:34:47,569 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.createNewAlarmState() with result = AlarmStateDTO{id=197396, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=1, lastAlarmTime=2018-12-18T08:34:47.038Z, level=0, isLive=false, startTime=null, endTime=null}
2018-12-18 16:34:47,616 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.getLiveTime() with argument[s] = [PressBrake11_, 0]
2018-12-18 16:34:47,648 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.getLiveTime() with result = 600
2018-12-18 16:34:47,694 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.RedisServiceImpl.set() with argument[s] = [rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1, rule, 600]
2018-12-18 16:34:47,913 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.RedisServiceImpl.set() with result = true
2018-12-18 16:34:47,913 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 开始定级 param:PressBrake11_ AlarmStateDTO{id=197396, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=1, lastAlarmTime=2018-12-18T08:34:47.038Z, level=0, isLive=false, startTime=null, endTime=null}
2018-12-18 16:34:47,913 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.findLevel() with argument[s] = [PressBrake11_, AlarmStateDTO{id=197396, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=1, lastAlarmTime=2018-12-18T08:34:47.038Z, level=0, isLive=false, startTime=null, endTime=null}]
2018-12-18 16:34:47,913 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询频率的报警等级规则 param:PressBrake11_ frequency
2018-12-18 16:34:47,944 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数 param:1000 PressBrake11_ 0 已发送
2018-12-18 16:34:47,976 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数:0
2018-12-18 16:34:47,976 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 当前规则设定次数:2
2018-12-18 16:34:48,054 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.findLevel() with result = 1,5,0
2018-12-18 16:34:48,085 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 定级结果是级别:1 重置有效时间:5 是否发通知:0
2018-12-18 16:34:48,085 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.saveMessage() with argument[s] = [AlarmHistoryDTO{id=197395, createdDate=2018-12-18T08:34:45.612Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='e3f1a0c001e611e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:35:18', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='1', currentValue=316.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}]
2018-12-18 16:34:48,085 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=197395, createdDate=2018-12-18T08:34:45.612Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='e3f1a0c001e611e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:35:18', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='1', currentValue=316.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:48,147 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.saveMessage() with result = AlarmHistoryDTO{id=197395, createdDate=2018-12-18T08:34:48.085Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='e3f1a0c001e611e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:35:18', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='1', currentValue=316.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:48,210 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.updateLevel() with argument[s] = [2018-12-18T08:34:48.210Z, AlarmStateDTO{id=197396, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=1, lastAlarmTime=2018-12-18T08:34:47.038Z, level=0, isLive=false, startTime=null, endTime=null}, 1]
2018-12-18 16:34:48,241 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.updateLevel() with result = null
2018-12-18 16:34:48,288 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 准备通知 param:PressBrake11_,1,JQNPPR_1PRP1OP20PRS01CRN001C1,null,316.0
2018-12-18 16:34:48,288 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendUtil: alarm send START alarmCode:PressBrake11_ alarmLevel:1 equipmentCode:JQNPPR_1PRP1OP20PRS01CRN001C1 mouldCode:null,alarmValue:316.0
2018-12-18 16:34:48,793 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.SendTemplateServiceImpl.queryByCodeLevel() with argument[s] = [SendTemplateDTO{id=null, templateCode='null', templateName='null', templateDesc='null', templateContent='null', sendType=null, sendTheme='null', isDelete='null', createdBy='null', createdDate='null', lastModifiedBy='null', lastModifiedDate='null'}]
2018-12-18 16:34:48,824 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.SendTemplateServiceImpl.queryByCodeLevel() with result = []
2018-12-18 16:34:48,855 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendUtil: 模板未找到 code:PressBrake11_ level:1
2018-12-18 16:34:48,855 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.web.rest.AlarmHistoryResource.receiveAlarmMessage() with result = null
2018-12-18 16:34:48,855 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "f20bb47001e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:35:40", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:34:48,855 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "f20bb47001e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:35:40", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:34:48,855 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:34:48,855 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:34:48,855 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "f20c50b101e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:35:56", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:34:48,855 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "f20c50b101e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:35:56", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:34:48,855 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:34:48,855 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:34:48,871 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "2da34a2001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:36:10", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:34:48,871 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "2da34a2001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:36:10", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:34:48,871 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:34:48,871 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:34:48,871 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "2da3e66001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:36:18", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:34:48,871 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "2da3e66001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:36:18", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:34:48,871 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:34:48,871 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:34:48,871 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "96ba5da001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:36:30", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "321.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:34:48,887 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "96ba5da001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:36:30", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "321.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:34:48,887 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.web.rest.AlarmHistoryResource.receiveAlarmMessage() with argument[s] = [AlarmHistoryDTO{id=null, createdDate=null, equipment='null', mould='null', description='null', recordId='96ba5da001e711e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:36:30', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=321.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}]
2018-12-18 16:34:48,887 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 保存到tt_alarm_history : AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='96ba5da001e711e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:36:30', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=321.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:48,887 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.saveMessage() with argument[s] = [AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='96ba5da001e711e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:36:30', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=321.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}]
2018-12-18 16:34:48,887 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='96ba5da001e711e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:36:30', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=321.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:48,918 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.saveMessage() with result = AlarmHistoryDTO{id=197397, createdDate=2018-12-18T08:34:48.887Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='96ba5da001e711e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:36:30', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=321.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:48,996 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认是否配置了报警等级规则（tm_alarm_level_rule） alarm_code=PressBrake11_ 
2018-12-18 16:34:48,996 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.findCode() with argument[s] = [PressBrake11_]
2018-12-18 16:34:49,043 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.findCode() with result = true
2018-12-18 16:34:49,074 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认结果是true
2018-12-18 16:34:49,074 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 查找报警状态tm_alarm_state param:PressBrake11_ JQNPPR_1PRP1OP20PRS01CRN001C1 null
2018-12-18 16:34:49,074 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.findOneByCodeAndEquipmentAndMould() with argument[s] = [PressBrake11_, JQNPPR_1PRP1OP20PRS01CRN001C1, null]
2018-12-18 16:34:49,121 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.findOneByCodeAndEquipmentAndMould() with result = AlarmStateDTO{id=197396, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=2, lastAlarmTime=2018-12-18T08:34:48.210Z, level=1, isLive=false, startTime=null, endTime=null}
2018-12-18 16:34:49,153 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断是否到期 key:rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1
2018-12-18 16:34:49,153 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.RedisServiceImpl.exists() with argument[s] = [rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1]
2018-12-18 16:34:49,309 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.RedisServiceImpl.exists() with result = true
2018-12-18 16:34:49,309 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断结果:true
2018-12-18 16:34:49,309 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.RedisServiceImpl.exists() with argument[s] = [rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1]
2018-12-18 16:34:49,418 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.RedisServiceImpl.exists() with result = true
2018-12-18 16:34:49,418 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 开始定级 param:PressBrake11_ AlarmStateDTO{id=197396, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=2, lastAlarmTime=2018-12-18T08:34:48.210Z, level=1, isLive=false, startTime=null, endTime=null}
2018-12-18 16:34:49,449 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.findLevel() with argument[s] = [PressBrake11_, AlarmStateDTO{id=197396, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=2, lastAlarmTime=2018-12-18T08:34:48.210Z, level=1, isLive=false, startTime=null, endTime=null}]
2018-12-18 16:34:49,449 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询频率的报警等级规则 param:PressBrake11_ frequency
2018-12-18 16:34:49,496 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数 param:1000 PressBrake11_ 1 已发送
2018-12-18 16:34:49,543 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数:2
2018-12-18 16:34:49,543 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 当前规则设定次数:2
2018-12-18 16:34:49,590 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.findLevel() with result = 1,5,0
2018-12-18 16:34:49,637 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 定级结果是级别:1 重置有效时间:5 是否发通知:0
2018-12-18 16:34:49,637 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.saveMessage() with argument[s] = [AlarmHistoryDTO{id=197397, createdDate=2018-12-18T08:34:48.887Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='96ba5da001e711e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:36:30', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='1', currentValue=321.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}]
2018-12-18 16:34:49,637 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=197397, createdDate=2018-12-18T08:34:48.887Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='96ba5da001e711e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:36:30', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='1', currentValue=321.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:49,668 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.saveMessage() with result = AlarmHistoryDTO{id=197397, createdDate=2018-12-18T08:34:49.637Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='96ba5da001e711e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:36:30', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='1', currentValue=321.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:49,743 INFO  [restartedMain] AdminApp: Started AdminApp in 42.978 seconds (JVM running for 45.388)
2018-12-18 16:34:49,743 INFO  [restartedMain] AdminApp: 
----------------------------------------------------------
	Application 'ipop' is running! Access URLs:
	Local: 		http://localhost:8081
	External: 	http://10.21.12.45:8081
	Profile(s): 	[swagger, no-liquibase, dev]
----------------------------------------------------------
2018-12-18 16:34:49,759 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.updateLastAlarmTime() with argument[s] = [2018-12-18T08:34:49.759Z, AlarmStateDTO{id=197396, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=2, lastAlarmTime=2018-12-18T08:34:48.210Z, level=1, isLive=false, startTime=null, endTime=null}]
2018-12-18 16:34:49,821 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.updateLastAlarmTime() with result = null
2018-12-18 16:34:50,087 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.RedisServiceImpl.reset() with argument[s] = [rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1, 5]
2018-12-18 16:34:50,181 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.RedisServiceImpl.reset() with result = true
2018-12-18 16:34:50,181 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.web.rest.AlarmHistoryResource.receiveAlarmMessage() with result = null
2018-12-18 16:34:50,181 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "a4d8de2101e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:36:42", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:34:50,181 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "a4d8de2101e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:36:42", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:34:50,181 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:34:50,181 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:34:50,181 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "e076b56001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:36:55", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:34:50,181 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "e076b56001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:36:55", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:34:50,181 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:34:50,181 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:34:50,196 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "0df2d7d001e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:37:04", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "326.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:34:50,196 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "0df2d7d001e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:37:04", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "326.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:34:50,196 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.web.rest.AlarmHistoryResource.receiveAlarmMessage() with argument[s] = [AlarmHistoryDTO{id=null, createdDate=null, equipment='null', mould='null', description='null', recordId='0df2d7d001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:04', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=326.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}]
2018-12-18 16:34:50,196 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 保存到tt_alarm_history : AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='0df2d7d001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:04', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=326.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:50,196 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.saveMessage() with argument[s] = [AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='0df2d7d001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:04', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=326.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}]
2018-12-18 16:34:50,196 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='0df2d7d001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:04', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=326.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:50,227 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.saveMessage() with result = AlarmHistoryDTO{id=197398, createdDate=2018-12-18T08:34:50.212Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='0df2d7d001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:04', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=326.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:50,306 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认是否配置了报警等级规则（tm_alarm_level_rule） alarm_code=PressBrake11_ 
2018-12-18 16:34:50,306 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.findCode() with argument[s] = [PressBrake11_]
2018-12-18 16:34:50,337 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.findCode() with result = true
2018-12-18 16:34:50,368 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认结果是true
2018-12-18 16:34:50,368 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 查找报警状态tm_alarm_state param:PressBrake11_ JQNPPR_1PRP1OP20PRS01CRN001C1 null
2018-12-18 16:34:50,368 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.findOneByCodeAndEquipmentAndMould() with argument[s] = [PressBrake11_, JQNPPR_1PRP1OP20PRS01CRN001C1, null]
2018-12-18 16:34:50,399 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.findOneByCodeAndEquipmentAndMould() with result = AlarmStateDTO{id=197396, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=3, lastAlarmTime=2018-12-18T08:34:49.759Z, level=1, isLive=false, startTime=null, endTime=null}
2018-12-18 16:34:50,431 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断是否到期 key:rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1
2018-12-18 16:34:50,431 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.RedisServiceImpl.exists() with argument[s] = [rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1]
2018-12-18 16:34:50,556 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.RedisServiceImpl.exists() with result = true
2018-12-18 16:34:50,556 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断结果:true
2018-12-18 16:34:50,556 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.RedisServiceImpl.exists() with argument[s] = [rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1]
2018-12-18 16:34:50,665 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.RedisServiceImpl.exists() with result = true
2018-12-18 16:34:50,665 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 开始定级 param:PressBrake11_ AlarmStateDTO{id=197396, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=3, lastAlarmTime=2018-12-18T08:34:49.759Z, level=1, isLive=false, startTime=null, endTime=null}
2018-12-18 16:34:50,665 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.findLevel() with argument[s] = [PressBrake11_, AlarmStateDTO{id=197396, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=3, lastAlarmTime=2018-12-18T08:34:49.759Z, level=1, isLive=false, startTime=null, endTime=null}]
2018-12-18 16:34:50,665 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询频率的报警等级规则 param:PressBrake11_ frequency
2018-12-18 16:34:50,716 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数 param:1000 PressBrake11_ 1 已发送
2018-12-18 16:34:50,743 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数:3
2018-12-18 16:34:50,743 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 当前规则设定次数:2
2018-12-18 16:34:50,899 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.findLevel() with result = 1,5,1
2018-12-18 16:34:50,930 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 定级结果是级别:1 重置有效时间:5 是否发通知:1
2018-12-18 16:34:50,930 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.saveMessage() with argument[s] = [AlarmHistoryDTO{id=197398, createdDate=2018-12-18T08:34:50.212Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='0df2d7d001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:04', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='1', currentValue=326.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}]
2018-12-18 16:34:50,930 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=197398, createdDate=2018-12-18T08:34:50.212Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='0df2d7d001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:04', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='1', currentValue=326.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:50,961 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.saveMessage() with result = AlarmHistoryDTO{id=197398, createdDate=2018-12-18T08:34:50.930Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='0df2d7d001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:04', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='1', currentValue=326.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:51,040 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.updateLastAlarmTime() with argument[s] = [2018-12-18T08:34:51.040Z, AlarmStateDTO{id=197396, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=3, lastAlarmTime=2018-12-18T08:34:49.759Z, level=1, isLive=false, startTime=null, endTime=null}]
2018-12-18 16:34:51,055 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.updateLastAlarmTime() with result = null
2018-12-18 16:34:51,086 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.RedisServiceImpl.reset() with argument[s] = [rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1, 5]
2018-12-18 16:34:51,196 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.RedisServiceImpl.reset() with result = true
2018-12-18 16:34:51,196 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 准备通知 param:PressBrake11_,1,JQNPPR_1PRP1OP20PRS01CRN001C1,null,326.0
2018-12-18 16:34:51,196 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendUtil: alarm send START alarmCode:PressBrake11_ alarmLevel:1 equipmentCode:JQNPPR_1PRP1OP20PRS01CRN001C1 mouldCode:null,alarmValue:326.0
2018-12-18 16:34:51,368 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.SendTemplateServiceImpl.queryByCodeLevel() with argument[s] = [SendTemplateDTO{id=null, templateCode='null', templateName='null', templateDesc='null', templateContent='null', sendType=null, sendTheme='null', isDelete='null', createdBy='null', createdDate='null', lastModifiedBy='null', lastModifiedDate='null'}]
2018-12-18 16:34:51,649 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.SendTemplateServiceImpl.queryByCodeLevel() with result = []
2018-12-18 16:34:51,680 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendUtil: 模板未找到 code:PressBrake11_ level:1
2018-12-18 16:34:51,680 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 通知结果:false
2018-12-18 16:34:51,680 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.web.rest.AlarmHistoryResource.receiveAlarmMessage() with result = null
2018-12-18 16:34:51,680 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "1c0b3dd101e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:37:17", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:34:51,680 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "1c0b3dd101e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:37:17", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:34:51,680 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:34:51,680 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:34:51,680 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "498600b001e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:37:24", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "327.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:34:51,680 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "498600b001e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:37:24", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "327.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:34:51,680 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.web.rest.AlarmHistoryResource.receiveAlarmMessage() with argument[s] = [AlarmHistoryDTO{id=null, createdDate=null, equipment='null', mould='null', description='null', recordId='498600b001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:24', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=327.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}]
2018-12-18 16:34:51,696 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 保存到tt_alarm_history : AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='498600b001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:24', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=327.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:51,696 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.saveMessage() with argument[s] = [AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='498600b001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:24', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=327.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}]
2018-12-18 16:34:51,696 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='498600b001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:24', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=327.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:51,727 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmHistoryServiceImpl.saveMessage() with result = AlarmHistoryDTO{id=197399, createdDate=2018-12-18T08:34:51.696Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='498600b001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:24', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=327.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:34:51,808 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认是否配置了报警等级规则（tm_alarm_level_rule） alarm_code=PressBrake11_ 
2018-12-18 16:34:51,808 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.findCode() with argument[s] = [PressBrake11_]
2018-12-18 16:34:51,855 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmLevelRuleServiceImpl.findCode() with result = true
2018-12-18 16:34:51,901 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认结果是true
2018-12-18 16:34:51,901 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 查找报警状态tm_alarm_state param:PressBrake11_ JQNPPR_1PRP1OP20PRS01CRN001C1 null
2018-12-18 16:34:51,901 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.findOneByCodeAndEquipmentAndMould() with argument[s] = [PressBrake11_, JQNPPR_1PRP1OP20PRS01CRN001C1, null]
2018-12-18 16:34:51,933 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.AlarmStateServiceImpl.findOneByCodeAndEquipmentAndMould() with result = AlarmStateDTO{id=197396, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:34:47.038Z, isSend=false, num=4, lastAlarmTime=2018-12-18T08:34:51.040Z, level=1, isLive=false, startTime=null, endTime=null}
2018-12-18 16:34:52,198 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断是否到期 key:rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1
2018-12-18 16:34:52,198 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.RedisServiceImpl.exists() with argument[s] = [rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1]
2018-12-18 16:34:52,292 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Exit: com.sgm.ipop.admin.service.impl.RedisServiceImpl.exists() with result = true
2018-12-18 16:34:52,308 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断结果:true
2018-12-18 16:34:52,308 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] LoggingAspect: Enter: com.sgm.ipop.admin.service.impl.RedisServiceImpl.exists() with argument[s] = [rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1]
2018-12-18 16:35:28,906 WARN  [restartedMain] ConfigServicePropertySourceLocator: Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/ipop/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-12-18 16:35:28,906 INFO  [restartedMain] AdminApp: The following profiles are active: swagger,no-liquibase,qa
2018-12-18 16:35:32,285 DEBUG [restartedMain] AsyncConfiguration: Creating Async Task Executor
2018-12-18 16:35:32,644 DEBUG [restartedMain] MetricsConfiguration: Registering JVM gauges
2018-12-18 16:35:32,644 DEBUG [restartedMain] MetricsConfiguration: Initializing Metrics JMX reporting
2018-12-18 16:35:33,336 DEBUG [restartedMain] WebConfigurer: Registering CORS filter
2018-12-18 16:35:33,461 INFO  [restartedMain] WebConfigurer: Web application configuration, using profiles: swagger
2018-12-18 16:35:33,461 DEBUG [restartedMain] WebConfigurer: Initializing Metrics registries
2018-12-18 16:35:33,461 DEBUG [restartedMain] WebConfigurer: Registering Metrics Filter
2018-12-18 16:35:33,461 DEBUG [restartedMain] WebConfigurer: Registering Metrics Servlet
2018-12-18 16:35:33,477 INFO  [restartedMain] WebConfigurer: Web application fully configured
2018-12-18 16:35:33,852 DEBUG [restartedMain] AsyncSpringLiquibase: Liquibase is disabled
2018-12-18 16:35:40,225 INFO  [restartedMain] JedisSentinelPool: Trying to find master from available Sentinels...
2018-12-18 16:35:40,225 DEBUG [restartedMain] JedisSentinelPool: Connecting to Sentinel 10.203.109.152:26379
2018-12-18 16:35:40,334 DEBUG [restartedMain] JedisSentinelPool: Found Redis master at 10.203.109.152:6379
2018-12-18 16:35:40,334 INFO  [restartedMain] JedisSentinelPool: Redis master running at 10.203.109.152:6379, starting Sentinel listeners...
2018-12-18 16:35:40,349 INFO  [restartedMain] JedisSentinelPool: Created JedisPool to master at 10.203.109.152:6379
2018-12-18 16:35:40,428 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:35:40,443 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:35:40,443 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:35:40,443 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:35:40,443 DEBUG [restartedMain] JPushClient: jpush配置初始化成功！
2018-12-18 16:35:45,049 DEBUG [restartedMain] Reflections: going to scan these urls:
file:/D:/SGM/IPOP-server/target/classes/
2018-12-18 16:35:45,158 INFO  [restartedMain] Reflections: Reflections took 109 ms to scan 1 urls, producing 220 keys and 1562 values 
2018-12-18 16:35:45,158 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.security.config.annotation.web.WebSecurityConfigurer -> org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter
2018-12-18 16:35:45,158 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.security.config.annotation.SecurityConfigurer -> org.springframework.security.config.annotation.web.WebSecurityConfigurer
2018-12-18 16:35:45,158 DEBUG [restartedMain] Reflections: expanded subtype javax.servlet.Filter -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:35:45,158 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.BeanNameAware -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:35:45,158 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.beans.factory.BeanNameAware
2018-12-18 16:35:45,158 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.context.EnvironmentAware -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:35:45,158 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.context.EnvironmentAware
2018-12-18 16:35:45,158 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.core.env.EnvironmentCapable -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:35:45,158 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.web.context.ServletContextAware -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:35:45,158 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.web.context.ServletContextAware
2018-12-18 16:35:45,158 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.InitializingBean -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:35:45,158 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.DisposableBean -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:35:45,158 DEBUG [restartedMain] Reflections: expanded subtype java.lang.RuntimeException -> org.springframework.security.core.AuthenticationException
2018-12-18 16:35:45,174 DEBUG [restartedMain] Reflections: expanded subtype java.lang.Exception -> java.lang.RuntimeException
2018-12-18 16:35:45,174 DEBUG [restartedMain] Reflections: expanded subtype java.lang.Throwable -> java.lang.Exception
2018-12-18 16:35:45,174 DEBUG [restartedMain] Reflections: expanded subtype java.io.Serializable -> java.lang.Throwable
2018-12-18 16:35:45,174 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:35:45,174 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.ProblemAdviceTrait -> org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait
2018-12-18 16:35:45,174 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.general.ProblemAdviceTrait
2018-12-18 16:35:45,174 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.ThrowableAdviceTrait -> org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait
2018-12-18 16:35:45,174 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.general.ThrowableAdviceTrait
2018-12-18 16:35:45,174 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.UnsupportedOperationAdviceTrait -> org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait
2018-12-18 16:35:45,174 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.general.UnsupportedOperationAdviceTrait
2018-12-18 16:35:45,174 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.HttpAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:35:45,174 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.NotAcceptableAdviceTrait -> org.zalando.problem.spring.web.advice.http.HttpAdviceTrait
2018-12-18 16:35:45,174 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.http.NotAcceptableAdviceTrait
2018-12-18 16:35:45,174 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.UnsupportedMediaTypeAdviceTrait -> org.zalando.problem.spring.web.advice.http.HttpAdviceTrait
2018-12-18 16:35:45,189 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.http.UnsupportedMediaTypeAdviceTrait
2018-12-18 16:35:45,189 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.MethodNotAllowedAdviceTrait -> org.zalando.problem.spring.web.advice.http.HttpAdviceTrait
2018-12-18 16:35:45,189 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.http.MethodNotAllowedAdviceTrait
2018-12-18 16:35:45,189 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.IOAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:35:45,189 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.MessageNotReadableAdviceTrait -> org.zalando.problem.spring.web.advice.io.IOAdviceTrait
2018-12-18 16:35:45,189 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.io.MessageNotReadableAdviceTrait
2018-12-18 16:35:45,189 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.MultipartAdviceTrait -> org.zalando.problem.spring.web.advice.io.IOAdviceTrait
2018-12-18 16:35:45,189 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.io.MultipartAdviceTrait
2018-12-18 16:35:45,189 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.TypeMistmatchAdviceTrait -> org.zalando.problem.spring.web.advice.io.IOAdviceTrait
2018-12-18 16:35:45,189 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.io.TypeMistmatchAdviceTrait
2018-12-18 16:35:45,189 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:35:45,189 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.MissingServletRequestParameterAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:35:45,189 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.MissingServletRequestParameterAdviceTrait
2018-12-18 16:35:45,205 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.MissingServletRequestPartAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:35:45,205 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.MissingServletRequestPartAdviceTrait
2018-12-18 16:35:45,205 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.NoHandlerFoundAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:35:45,205 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.NoHandlerFoundAdviceTrait
2018-12-18 16:35:45,205 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.ServletRequestBindingAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:35:45,205 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.ServletRequestBindingAdviceTrait
2018-12-18 16:35:45,205 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.security.SecurityAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:35:45,205 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.security.AuthenticationAdviceTrait -> org.zalando.problem.spring.web.advice.security.SecurityAdviceTrait
2018-12-18 16:35:45,205 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.security.AuthenticationAdviceTrait
2018-12-18 16:35:45,205 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.security.AccessDeniedAdviceTrait -> org.zalando.problem.spring.web.advice.security.SecurityAdviceTrait
2018-12-18 16:35:45,205 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.security.AccessDeniedAdviceTrait
2018-12-18 16:35:45,205 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:35:45,205 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.ConstraintViolationAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait
2018-12-18 16:35:45,221 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseValidationAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ConstraintViolationAdviceTrait
2018-12-18 16:35:45,221 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.validation.BaseValidationAdviceTrait
2018-12-18 16:35:45,221 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BindAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait
2018-12-18 16:35:45,221 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseBindingResultAdviceTrait -> org.zalando.problem.spring.web.advice.validation.BindAdviceTrait
2018-12-18 16:35:45,221 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseValidationAdviceTrait -> org.zalando.problem.spring.web.advice.validation.BaseBindingResultAdviceTrait
2018-12-18 16:35:45,221 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.MethodArgumentNotValidAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait
2018-12-18 16:35:45,221 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseBindingResultAdviceTrait -> org.zalando.problem.spring.web.advice.validation.MethodArgumentNotValidAdviceTrait
2018-12-18 16:35:45,221 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.cache.annotation.CachingConfigurer -> org.springframework.cache.annotation.CachingConfigurerSupport
2018-12-18 16:35:45,221 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.web.WebApplicationInitializer -> org.springframework.boot.web.support.SpringBootServletInitializer
2018-12-18 16:35:45,221 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.web.servlet.config.annotation.WebMvcConfigurer -> org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter
2018-12-18 16:35:45,221 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.jpa.repository.JpaRepository -> com.sgm.ipop.common.repository.base.BaseRepository
2018-12-18 16:35:45,221 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.PagingAndSortingRepository -> org.springframework.data.jpa.repository.JpaRepository
2018-12-18 16:35:45,221 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.CrudRepository -> org.springframework.data.repository.PagingAndSortingRepository
2018-12-18 16:35:45,237 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.Repository -> org.springframework.data.repository.CrudRepository
2018-12-18 16:35:45,237 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.query.QueryByExampleExecutor -> org.springframework.data.jpa.repository.JpaRepository
2018-12-18 16:35:45,237 DEBUG [restartedMain] Reflections: expanded subtype ch.qos.logback.core.spi.ContextAware -> ch.qos.logback.core.spi.ContextAwareBase
2018-12-18 16:35:45,237 DEBUG [restartedMain] Reflections: expanded subtype java.lang.Comparable -> java.lang.Enum
2018-12-18 16:35:45,237 DEBUG [restartedMain] Reflections: expanded subtype java.io.Serializable -> java.lang.Enum
2018-12-18 16:35:45,237 DEBUG [restartedMain] Reflections: expanded subtype com.ryantenney.metrics.spring.config.annotation.MetricsConfigurer -> com.ryantenney.metrics.spring.config.annotation.MetricsConfigurerAdapter
2018-12-18 16:35:45,237 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.DisposableBean -> com.ryantenney.metrics.spring.config.annotation.MetricsConfigurerAdapter
2018-12-18 16:35:45,237 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.security.config.annotation.SecurityConfigurer -> org.springframework.security.config.annotation.SecurityConfigurerAdapter
2018-12-18 16:35:45,237 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.ThrowableProblem -> org.zalando.problem.AbstractThrowableProblem
2018-12-18 16:35:45,237 DEBUG [restartedMain] Reflections: expanded subtype java.lang.RuntimeException -> org.zalando.problem.ThrowableProblem
2018-12-18 16:35:45,237 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.Problem -> org.zalando.problem.ThrowableProblem
2018-12-18 16:35:45,237 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.Exceptional -> org.zalando.problem.ThrowableProblem
2018-12-18 16:35:45,237 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.Problem -> org.zalando.problem.Exceptional
2018-12-18 16:35:45,237 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.BeanFactoryAware -> org.springframework.cloud.config.java.AbstractCloudConfig
2018-12-18 16:35:45,237 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.beans.factory.BeanFactoryAware
2018-12-18 16:35:47,085 DEBUG [restartedMain] TimerManager: 初始化loader并执行timerManager.burst();
2018-12-18 16:35:47,085 INFO  [restartedMain] TimerManager: timer start
2018-12-18 16:35:47,100 INFO  [restartedMain] StdSchedulerFactory: Using default implementation for ThreadExecutor
2018-12-18 16:35:47,100 INFO  [restartedMain] SimpleThreadPool: Job execution threads will use class loader of thread: restartedMain
2018-12-18 16:35:47,100 INFO  [restartedMain] SchedulerSignalerImpl: Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-12-18 16:35:47,100 INFO  [restartedMain] QuartzScheduler: Quartz Scheduler v.2.2.1 created.
2018-12-18 16:35:47,100 INFO  [restartedMain] RAMJobStore: RAMJobStore initialized.
2018-12-18 16:35:47,100 INFO  [restartedMain] QuartzScheduler: Scheduler meta-data: Quartz Scheduler (v2.2.1) 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-12-18 16:35:47,100 INFO  [restartedMain] StdSchedulerFactory: Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
2018-12-18 16:35:47,100 INFO  [restartedMain] StdSchedulerFactory: Quartz scheduler version: 2.2.1
2018-12-18 16:35:47,100 INFO  [restartedMain] QuartzScheduler: Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2018-12-18 16:35:47,100 DEBUG [DefaultQuartzScheduler_QuartzSchedulerThread] QuartzSchedulerThread: batch acquisition of 0 triggers
2018-12-18 16:35:48,101 DEBUG [Timer-0] UpdateChecker: Checking for available updated version of Quartz...
2018-12-18 16:35:51,103 DEBUG [Timer-0] UpdateChecker: Quartz version update check failed: connect timed out
2018-12-18 16:35:51,275 WARN  [restartedMain] URLConfigurationSource: No URLs will be polled as dynamic configuration sources.
2018-12-18 16:35:51,275 WARN  [restartedMain] URLConfigurationSource: No URLs will be polled as dynamic configuration sources.
2018-12-18 16:35:51,727 DEBUG [restartedMain] SwaggerConfiguration: Starting Swagger
2018-12-18 16:35:51,743 DEBUG [restartedMain] SwaggerConfiguration: Started Swagger in 16 ms
2018-12-18 16:35:53,290 INFO  [restartedMain] DiscoveryClient: Initializing Eureka in region us-east-1
2018-12-18 16:35:53,352 INFO  [restartedMain] DiscoveryJerseyProvider: Using JSON encoding codec LegacyJacksonJson
2018-12-18 16:35:53,352 INFO  [restartedMain] DiscoveryJerseyProvider: Using JSON decoding codec LegacyJacksonJson
2018-12-18 16:35:53,446 INFO  [restartedMain] DiscoveryJerseyProvider: Using XML encoding codec XStreamXml
2018-12-18 16:35:53,446 INFO  [restartedMain] DiscoveryJerseyProvider: Using XML decoding codec XStreamXml
2018-12-18 16:35:53,665 INFO  [restartedMain] ConfigClusterResolver: Resolving eureka endpoints via configuration
2018-12-18 16:35:53,712 INFO  [restartedMain] DiscoveryClient: Disable delta property : false
2018-12-18 16:35:53,712 INFO  [restartedMain] DiscoveryClient: Single vip registry refresh property : null
2018-12-18 16:35:53,712 INFO  [restartedMain] DiscoveryClient: Force full registry fetch : false
2018-12-18 16:35:53,712 INFO  [restartedMain] DiscoveryClient: Application is null : false
2018-12-18 16:35:53,712 INFO  [restartedMain] DiscoveryClient: Registered Applications size is zero : true
2018-12-18 16:35:53,712 INFO  [restartedMain] DiscoveryClient: Application version is -1: true
2018-12-18 16:35:53,712 INFO  [restartedMain] DiscoveryClient: Getting all instance registry info from the eureka server
2018-12-18 16:35:53,946 INFO  [restartedMain] DiscoveryClient: The response status is 200
2018-12-18 16:35:53,946 INFO  [restartedMain] DiscoveryClient: Starting heartbeat executor: renew interval is: 5
2018-12-18 16:35:53,946 INFO  [restartedMain] InstanceInfoReplicator: InstanceInfoReplicator onDemand update allowed rate per min is 12
2018-12-18 16:35:53,946 INFO  [restartedMain] DiscoveryClient: Discovery Client initialized at timestamp 1545122153946 with initial instances count: 9
2018-12-18 16:35:53,977 INFO  [restartedMain] DiscoveryClient: Saw local status change event StatusChangeEvent [timestamp=1545122153977, current=UP, previous=STARTING]
2018-12-18 16:35:55,243 WARN  [DiscoveryClient-InstanceInfoReplicator-0] ConfigServicePropertySourceLocator: Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/ipop/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-12-18 16:35:55,243 INFO  [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient: DiscoveryClient_IPOP/ipop:102228ee2b7d6044fed36401528eb8df: registering service...
2018-12-18 16:35:55,306 INFO  [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient: DiscoveryClient_IPOP/ipop:102228ee2b7d6044fed36401528eb8df - registration status: 204
2018-12-18 16:35:56,448 WARN  [DiscoveryClient-InstanceInfoReplicator-0] ConfigServicePropertySourceLocator: Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/ipop/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-12-18 16:35:57,839 INFO  [restartedMain] AdminApp: Started AdminApp in 31.769 seconds (JVM running for 32.645)
2018-12-18 16:35:57,839 INFO  [restartedMain] AdminApp: 
----------------------------------------------------------
	Application 'ipop' is running! Access URLs:
	Local: 		http://localhost:8081
	External: 	http://10.21.12.45:8081
	Profile(s): 	[swagger, no-liquibase, qa]
----------------------------------------------------------
2018-12-18 16:36:05,545 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "e54135f0020c11e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 16:36:05", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:36:05,545 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "e54135f0020c11e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 16:36:05", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:36:05,561 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:36:05,561 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:36:07,702 WARN  [DiscoveryClient-InstanceInfoReplicator-0] ConfigServicePropertySourceLocator: Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/ipop/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-12-18 16:36:10,994 DEBUG [DefaultQuartzScheduler_QuartzSchedulerThread] QuartzSchedulerThread: batch acquisition of 0 triggers
2018-12-18 16:36:21,635 WARN  [restartedMain] ConfigServicePropertySourceLocator: Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/ipop/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-12-18 16:36:21,635 INFO  [restartedMain] AdminApp: The following profiles are active: swagger,no-liquibase,prod
2018-12-18 16:36:25,160 DEBUG [restartedMain] AsyncConfiguration: Creating Async Task Executor
2018-12-18 16:36:25,488 DEBUG [restartedMain] MetricsConfiguration: Registering JVM gauges
2018-12-18 16:36:25,504 DEBUG [restartedMain] MetricsConfiguration: Initializing Metrics JMX reporting
2018-12-18 16:36:26,165 DEBUG [restartedMain] WebConfigurer: Registering CORS filter
2018-12-18 16:36:26,305 INFO  [restartedMain] WebConfigurer: Web application configuration, using profiles: swagger
2018-12-18 16:36:26,305 DEBUG [restartedMain] WebConfigurer: Initializing Metrics registries
2018-12-18 16:36:26,305 DEBUG [restartedMain] WebConfigurer: Registering Metrics Filter
2018-12-18 16:36:26,305 DEBUG [restartedMain] WebConfigurer: Registering Metrics Servlet
2018-12-18 16:36:26,305 DEBUG [restartedMain] WebConfigurer: Registering Caching HTTP Headers Filter
2018-12-18 16:36:26,305 INFO  [restartedMain] WebConfigurer: Web application fully configured
2018-12-18 16:36:26,680 DEBUG [restartedMain] AsyncSpringLiquibase: Liquibase is disabled
2018-12-18 16:36:33,353 INFO  [restartedMain] JedisSentinelPool: Trying to find master from available Sentinels...
2018-12-18 16:36:33,353 DEBUG [restartedMain] JedisSentinelPool: Connecting to Sentinel 10.203.72.70:26379
2018-12-18 16:36:33,462 DEBUG [restartedMain] JedisSentinelPool: Found Redis master at 10.203.72.70:6379
2018-12-18 16:36:33,462 INFO  [restartedMain] JedisSentinelPool: Redis master running at 10.203.72.70:6379, starting Sentinel listeners...
2018-12-18 16:36:33,478 INFO  [restartedMain] JedisSentinelPool: Created JedisPool to master at 10.203.72.70:6379
2018-12-18 16:36:33,540 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:36:33,556 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:36:33,556 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:36:33,556 INFO  [restartedMain] NativeHttpClient: Created instance with connectionTimeout 5,000, readTimeout 30,000, maxRetryTimes 3, SSL Version TLS
2018-12-18 16:36:33,556 DEBUG [restartedMain] JPushClient: jpush配置初始化成功！
2018-12-18 16:36:38,332 DEBUG [restartedMain] Reflections: going to scan these urls:
file:/D:/SGM/IPOP-server/target/classes/
2018-12-18 16:36:38,442 INFO  [restartedMain] Reflections: Reflections took 94 ms to scan 1 urls, producing 220 keys and 1562 values 
2018-12-18 16:36:38,457 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.security.config.annotation.web.WebSecurityConfigurer -> org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter
2018-12-18 16:36:38,457 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.security.config.annotation.SecurityConfigurer -> org.springframework.security.config.annotation.web.WebSecurityConfigurer
2018-12-18 16:36:38,457 DEBUG [restartedMain] Reflections: expanded subtype javax.servlet.Filter -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:36:38,457 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.BeanNameAware -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:36:38,457 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.beans.factory.BeanNameAware
2018-12-18 16:36:38,457 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.context.EnvironmentAware -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:36:38,457 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.context.EnvironmentAware
2018-12-18 16:36:38,457 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.core.env.EnvironmentCapable -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:36:38,457 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.web.context.ServletContextAware -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:36:38,457 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.web.context.ServletContextAware
2018-12-18 16:36:38,457 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.InitializingBean -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:36:38,457 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.DisposableBean -> org.springframework.web.filter.GenericFilterBean
2018-12-18 16:36:38,457 DEBUG [restartedMain] Reflections: expanded subtype java.lang.RuntimeException -> org.springframework.security.core.AuthenticationException
2018-12-18 16:36:38,457 DEBUG [restartedMain] Reflections: expanded subtype java.lang.Exception -> java.lang.RuntimeException
2018-12-18 16:36:38,473 DEBUG [restartedMain] Reflections: expanded subtype java.lang.Throwable -> java.lang.Exception
2018-12-18 16:36:38,473 DEBUG [restartedMain] Reflections: expanded subtype java.io.Serializable -> java.lang.Throwable
2018-12-18 16:36:38,473 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:36:38,473 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.ProblemAdviceTrait -> org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait
2018-12-18 16:36:38,473 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.general.ProblemAdviceTrait
2018-12-18 16:36:38,473 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.ThrowableAdviceTrait -> org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait
2018-12-18 16:36:38,473 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.general.ThrowableAdviceTrait
2018-12-18 16:36:38,473 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.general.UnsupportedOperationAdviceTrait -> org.zalando.problem.spring.web.advice.general.GeneralAdviceTrait
2018-12-18 16:36:38,473 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.general.UnsupportedOperationAdviceTrait
2018-12-18 16:36:38,473 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.HttpAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:36:38,473 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.NotAcceptableAdviceTrait -> org.zalando.problem.spring.web.advice.http.HttpAdviceTrait
2018-12-18 16:36:38,473 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.http.NotAcceptableAdviceTrait
2018-12-18 16:36:38,473 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.UnsupportedMediaTypeAdviceTrait -> org.zalando.problem.spring.web.advice.http.HttpAdviceTrait
2018-12-18 16:36:38,473 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.http.UnsupportedMediaTypeAdviceTrait
2018-12-18 16:36:38,488 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.http.MethodNotAllowedAdviceTrait -> org.zalando.problem.spring.web.advice.http.HttpAdviceTrait
2018-12-18 16:36:38,488 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.http.MethodNotAllowedAdviceTrait
2018-12-18 16:36:38,488 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.IOAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:36:38,488 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.MessageNotReadableAdviceTrait -> org.zalando.problem.spring.web.advice.io.IOAdviceTrait
2018-12-18 16:36:38,488 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.io.MessageNotReadableAdviceTrait
2018-12-18 16:36:38,488 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.MultipartAdviceTrait -> org.zalando.problem.spring.web.advice.io.IOAdviceTrait
2018-12-18 16:36:38,488 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.io.MultipartAdviceTrait
2018-12-18 16:36:38,488 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.io.TypeMistmatchAdviceTrait -> org.zalando.problem.spring.web.advice.io.IOAdviceTrait
2018-12-18 16:36:38,488 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.io.TypeMistmatchAdviceTrait
2018-12-18 16:36:38,488 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:36:38,488 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.MissingServletRequestParameterAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:36:38,488 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.MissingServletRequestParameterAdviceTrait
2018-12-18 16:36:38,488 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.MissingServletRequestPartAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:36:38,504 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.MissingServletRequestPartAdviceTrait
2018-12-18 16:36:38,504 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.NoHandlerFoundAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:36:38,504 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.NoHandlerFoundAdviceTrait
2018-12-18 16:36:38,504 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.routing.ServletRequestBindingAdviceTrait -> org.zalando.problem.spring.web.advice.routing.RoutingAdviceTrait
2018-12-18 16:36:38,504 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.routing.ServletRequestBindingAdviceTrait
2018-12-18 16:36:38,504 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.security.SecurityAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:36:38,504 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.security.AuthenticationAdviceTrait -> org.zalando.problem.spring.web.advice.security.SecurityAdviceTrait
2018-12-18 16:36:38,504 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.security.AuthenticationAdviceTrait
2018-12-18 16:36:38,504 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.security.AccessDeniedAdviceTrait -> org.zalando.problem.spring.web.advice.security.SecurityAdviceTrait
2018-12-18 16:36:38,504 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.security.AccessDeniedAdviceTrait
2018-12-18 16:36:38,504 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait -> org.zalando.problem.spring.web.advice.ProblemHandling
2018-12-18 16:36:38,504 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.ConstraintViolationAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait
2018-12-18 16:36:38,504 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseValidationAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ConstraintViolationAdviceTrait
2018-12-18 16:36:38,520 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.AdviceTrait -> org.zalando.problem.spring.web.advice.validation.BaseValidationAdviceTrait
2018-12-18 16:36:38,520 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BindAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait
2018-12-18 16:36:38,520 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseBindingResultAdviceTrait -> org.zalando.problem.spring.web.advice.validation.BindAdviceTrait
2018-12-18 16:36:38,520 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseValidationAdviceTrait -> org.zalando.problem.spring.web.advice.validation.BaseBindingResultAdviceTrait
2018-12-18 16:36:38,520 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.MethodArgumentNotValidAdviceTrait -> org.zalando.problem.spring.web.advice.validation.ValidationAdviceTrait
2018-12-18 16:36:38,520 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.spring.web.advice.validation.BaseBindingResultAdviceTrait -> org.zalando.problem.spring.web.advice.validation.MethodArgumentNotValidAdviceTrait
2018-12-18 16:36:38,520 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.cache.annotation.CachingConfigurer -> org.springframework.cache.annotation.CachingConfigurerSupport
2018-12-18 16:36:38,520 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.web.WebApplicationInitializer -> org.springframework.boot.web.support.SpringBootServletInitializer
2018-12-18 16:36:38,520 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.web.servlet.config.annotation.WebMvcConfigurer -> org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter
2018-12-18 16:36:38,520 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.jpa.repository.JpaRepository -> com.sgm.ipop.common.repository.base.BaseRepository
2018-12-18 16:36:38,520 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.PagingAndSortingRepository -> org.springframework.data.jpa.repository.JpaRepository
2018-12-18 16:36:38,520 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.CrudRepository -> org.springframework.data.repository.PagingAndSortingRepository
2018-12-18 16:36:38,520 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.Repository -> org.springframework.data.repository.CrudRepository
2018-12-18 16:36:38,536 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.data.repository.query.QueryByExampleExecutor -> org.springframework.data.jpa.repository.JpaRepository
2018-12-18 16:36:38,536 DEBUG [restartedMain] Reflections: expanded subtype ch.qos.logback.core.spi.ContextAware -> ch.qos.logback.core.spi.ContextAwareBase
2018-12-18 16:36:38,536 DEBUG [restartedMain] Reflections: expanded subtype java.lang.Comparable -> java.lang.Enum
2018-12-18 16:36:38,536 DEBUG [restartedMain] Reflections: expanded subtype java.io.Serializable -> java.lang.Enum
2018-12-18 16:36:38,536 DEBUG [restartedMain] Reflections: expanded subtype com.ryantenney.metrics.spring.config.annotation.MetricsConfigurer -> com.ryantenney.metrics.spring.config.annotation.MetricsConfigurerAdapter
2018-12-18 16:36:38,536 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.DisposableBean -> com.ryantenney.metrics.spring.config.annotation.MetricsConfigurerAdapter
2018-12-18 16:36:38,536 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.security.config.annotation.SecurityConfigurer -> org.springframework.security.config.annotation.SecurityConfigurerAdapter
2018-12-18 16:36:38,536 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.ThrowableProblem -> org.zalando.problem.AbstractThrowableProblem
2018-12-18 16:36:38,536 DEBUG [restartedMain] Reflections: expanded subtype java.lang.RuntimeException -> org.zalando.problem.ThrowableProblem
2018-12-18 16:36:38,536 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.Problem -> org.zalando.problem.ThrowableProblem
2018-12-18 16:36:38,536 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.Exceptional -> org.zalando.problem.ThrowableProblem
2018-12-18 16:36:38,536 DEBUG [restartedMain] Reflections: expanded subtype org.zalando.problem.Problem -> org.zalando.problem.Exceptional
2018-12-18 16:36:38,536 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.BeanFactoryAware -> org.springframework.cloud.config.java.AbstractCloudConfig
2018-12-18 16:36:38,536 DEBUG [restartedMain] Reflections: expanded subtype org.springframework.beans.factory.Aware -> org.springframework.beans.factory.BeanFactoryAware
2018-12-18 16:36:40,526 DEBUG [restartedMain] TimerManager: 初始化loader并执行timerManager.burst();
2018-12-18 16:36:40,526 INFO  [restartedMain] TimerManager: timer start
2018-12-18 16:36:40,542 INFO  [restartedMain] StdSchedulerFactory: Using default implementation for ThreadExecutor
2018-12-18 16:36:40,542 INFO  [restartedMain] SimpleThreadPool: Job execution threads will use class loader of thread: restartedMain
2018-12-18 16:36:40,557 INFO  [restartedMain] SchedulerSignalerImpl: Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-12-18 16:36:40,557 INFO  [restartedMain] QuartzScheduler: Quartz Scheduler v.2.2.1 created.
2018-12-18 16:36:40,557 INFO  [restartedMain] RAMJobStore: RAMJobStore initialized.
2018-12-18 16:36:40,557 INFO  [restartedMain] QuartzScheduler: Scheduler meta-data: Quartz Scheduler (v2.2.1) 'DefaultQuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-12-18 16:36:40,557 INFO  [restartedMain] StdSchedulerFactory: Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
2018-12-18 16:36:40,557 INFO  [restartedMain] StdSchedulerFactory: Quartz scheduler version: 2.2.1
2018-12-18 16:36:40,557 INFO  [restartedMain] QuartzScheduler: Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2018-12-18 16:36:40,557 DEBUG [DefaultQuartzScheduler_QuartzSchedulerThread] QuartzSchedulerThread: batch acquisition of 0 triggers
2018-12-18 16:36:41,569 DEBUG [Timer-0] UpdateChecker: Checking for available updated version of Quartz...
2018-12-18 16:36:44,569 DEBUG [Timer-0] UpdateChecker: Quartz version update check failed: connect timed out
2018-12-18 16:36:44,843 WARN  [restartedMain] URLConfigurationSource: No URLs will be polled as dynamic configuration sources.
2018-12-18 16:36:44,843 WARN  [restartedMain] URLConfigurationSource: No URLs will be polled as dynamic configuration sources.
2018-12-18 16:36:45,343 DEBUG [restartedMain] SwaggerConfiguration: Starting Swagger
2018-12-18 16:36:45,359 DEBUG [restartedMain] SwaggerConfiguration: Started Swagger in 16 ms
2018-12-18 16:36:46,914 INFO  [restartedMain] DiscoveryClient: Initializing Eureka in region us-east-1
2018-12-18 16:36:46,961 INFO  [restartedMain] DiscoveryJerseyProvider: Using JSON encoding codec LegacyJacksonJson
2018-12-18 16:36:46,961 INFO  [restartedMain] DiscoveryJerseyProvider: Using JSON decoding codec LegacyJacksonJson
2018-12-18 16:36:47,039 INFO  [restartedMain] DiscoveryJerseyProvider: Using XML encoding codec XStreamXml
2018-12-18 16:36:47,039 INFO  [restartedMain] DiscoveryJerseyProvider: Using XML decoding codec XStreamXml
2018-12-18 16:36:47,227 INFO  [restartedMain] ConfigClusterResolver: Resolving eureka endpoints via configuration
2018-12-18 16:36:47,258 INFO  [restartedMain] DiscoveryClient: Disable delta property : false
2018-12-18 16:36:47,258 INFO  [restartedMain] DiscoveryClient: Single vip registry refresh property : null
2018-12-18 16:36:47,258 INFO  [restartedMain] DiscoveryClient: Force full registry fetch : false
2018-12-18 16:36:47,258 INFO  [restartedMain] DiscoveryClient: Application is null : false
2018-12-18 16:36:47,258 INFO  [restartedMain] DiscoveryClient: Registered Applications size is zero : true
2018-12-18 16:36:47,258 INFO  [restartedMain] DiscoveryClient: Application version is -1: true
2018-12-18 16:36:47,258 INFO  [restartedMain] DiscoveryClient: Getting all instance registry info from the eureka server
2018-12-18 16:36:47,446 INFO  [restartedMain] DiscoveryClient: The response status is 200
2018-12-18 16:36:47,461 INFO  [restartedMain] DiscoveryClient: Starting heartbeat executor: renew interval is: 5
2018-12-18 16:36:47,461 INFO  [restartedMain] InstanceInfoReplicator: InstanceInfoReplicator onDemand update allowed rate per min is 12
2018-12-18 16:36:47,461 INFO  [restartedMain] DiscoveryClient: Discovery Client initialized at timestamp 1545122207461 with initial instances count: 10
2018-12-18 16:36:47,493 INFO  [restartedMain] DiscoveryClient: Saw local status change event StatusChangeEvent [timestamp=1545122207493, current=UP, previous=STARTING]
2018-12-18 16:36:48,325 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "b671389001e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:34:48", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:36:48,325 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "b671389001e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:34:48", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:36:48,325 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:36:48,325 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:36:48,325 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "b671d4d101e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:35:04", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:36:48,325 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "b671d4d101e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:35:04", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:36:48,325 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:36:48,325 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:36:48,325 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "e3f1a0c001e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:35:18", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "316.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:36:48,341 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "e3f1a0c001e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:35:18", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "316.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:36:48,341 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 保存到tt_alarm_history : AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='e3f1a0c001e611e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:35:18', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=316.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:36:48,357 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='e3f1a0c001e611e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:35:18', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=316.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:36:48,529 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认是否配置了报警等级规则（tm_alarm_level_rule） alarm_code=PressBrake11_ 
2018-12-18 16:36:48,638 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认结果是true
2018-12-18 16:36:48,638 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 查找报警状态tm_alarm_state param:PressBrake11_ JQNPPR_1PRP1OP20PRS01CRN001C1 null
2018-12-18 16:36:48,700 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断是否到期 key:rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1
2018-12-18 16:36:48,843 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断结果:false
2018-12-18 16:36:48,890 WARN  [DiscoveryClient-InstanceInfoReplicator-0] ConfigServicePropertySourceLocator: Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/ipop/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-12-18 16:36:48,890 INFO  [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient: DiscoveryClient_IPOP/ipop:3713abf0519eb3da5fc149d2d6181656: registering service...
2018-12-18 16:36:48,952 INFO  [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient: DiscoveryClient_IPOP/ipop:3713abf0519eb3da5fc149d2d6181656 - registration status: 204
2018-12-18 16:36:49,093 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmStateServiceImpl: Request to save AlarmState : AlarmStateDTO{id=null, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:36:49.093Z, isSend=false, num=1, lastAlarmTime=2018-12-18T08:36:49.093Z, level=0, isLive=false, startTime=null, endTime=null}
2018-12-18 16:36:49,202 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendUtil: alarm send START alarmCode:PressBrake11_ alarmLevel:0 equipmentCode:JQNPPR_1PRP1OP20PRS01CRN001C1 mouldCode:null,alarmValue:316.0
2018-12-18 16:36:49,452 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendUtil: 模板未找到 code:PressBrake11_ level:0
2018-12-18 16:36:49,843 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 开始定级 param:PressBrake11_ AlarmStateDTO{id=493165, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:36:49.093Z, isSend=false, num=1, lastAlarmTime=2018-12-18T08:36:49.093Z, level=0, isLive=false, startTime=null, endTime=null}
2018-12-18 16:36:49,843 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询频率的报警等级规则 param:PressBrake11_ frequency
2018-12-18 16:36:49,874 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数 param:10 PressBrake11_ 0 已发送
2018-12-18 16:36:49,906 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数:0
2018-12-18 16:36:49,906 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 当前规则设定次数:1
2018-12-18 16:36:50,015 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 定级结果是级别:1 重置有效时间:1 是否发通知:0
2018-12-18 16:36:50,015 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=493164, createdDate=2018-12-18T08:36:48.357Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='e3f1a0c001e611e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:35:18', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='1', currentValue=316.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:36:50,156 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 准备通知 param:PressBrake11_,1,JQNPPR_1PRP1OP20PRS01CRN001C1,null,316.0
2018-12-18 16:36:50,156 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendUtil: alarm send START alarmCode:PressBrake11_ alarmLevel:1 equipmentCode:JQNPPR_1PRP1OP20PRS01CRN001C1 mouldCode:null,alarmValue:316.0
2018-12-18 16:36:50,234 WARN  [DiscoveryClient-InstanceInfoReplicator-0] ConfigServicePropertySourceLocator: Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/ipop/default": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect
2018-12-18 16:36:50,406 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendRuleServiceImpl: Request to get AlarmSendRule : 487073
2018-12-18 16:36:50,546 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendRuleServiceImpl: 发送目标对象是id:49902 userCd:apptest05
2018-12-18 16:36:50,593 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] HttpUtil: HTTPPOST START url:http://cs03.sgm.saic-gm.com/sms/message/one entity:java.io.ByteArrayInputStream@39b246b8
2018-12-18 16:36:50,718 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] HttpUtil: HTTPPOST END url:http://cs03.sgm.saic-gm.com/sms/message/one status200 response:org.apache.http.conn.EofSensorInputStream@47d1ff08
2018-12-18 16:36:50,718 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] HttpUtil: HTTPEND {"message":"success"}
2018-12-18 16:36:50,722 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] SendRecordServiceImpl: Request to save SendRecord : SendRecordDTO{id=null, target='17554184152', content='尊敬的apptest05，您好！ P1OP20压机离合制动器设备P1 OP20压机离合制动器(JQNPPR_1PRP1OP20PRS01CRN001C1)，
当前进油口温度为316.0，温度异常，请检查！', sendTime='2018-12-18T08:36:50.718Z', sendType='短信', alarmLevel='1', createdBy='null', lastModifiedBy='null', createdDate='2018-12-18T08:36:50.718Z', lastModifiedDate='null', isDelete='false'}
2018-12-18 16:36:50,827 WARN  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] SqlExceptionHelper: SQL Error: 1400, SQLState: 23000
2018-12-18 16:36:50,827 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] SqlExceptionHelper: ORA-01400: cannot insert NULL into ("OWIPOP"."TT_SEND_RECORD"."CREATED_BY")

2018-12-18 16:36:50,843 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ExceptionMapperStandardImpl: HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-12-18 16:36:50,874 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生Exception异常:could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2018-12-18 16:36:50,874 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "f20bb47001e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:35:40", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:36:50,874 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "f20bb47001e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:35:40", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:36:50,874 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:36:50,874 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:36:50,874 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "f20c50b101e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:35:56", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:36:50,874 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "f20c50b101e611e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:35:56", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:36:50,874 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:36:50,874 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:36:50,874 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "2da34a2001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:36:10", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:36:50,889 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "2da34a2001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:36:10", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:36:50,889 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:36:50,889 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:36:50,889 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "2da3e66001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:36:18", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:36:50,889 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "2da3e66001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:36:18", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:36:50,889 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:36:50,889 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:36:50,889 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "96ba5da001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:36:30", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "321.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:36:50,889 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "96ba5da001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:36:30", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "321.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:36:50,905 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 保存到tt_alarm_history : AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='96ba5da001e711e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:36:30', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=321.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:36:50,936 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='96ba5da001e711e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:36:30', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=321.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:36:51,030 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认是否配置了报警等级规则（tm_alarm_level_rule） alarm_code=PressBrake11_ 
2018-12-18 16:36:51,093 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认结果是true
2018-12-18 16:36:51,093 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 查找报警状态tm_alarm_state param:PressBrake11_ JQNPPR_1PRP1OP20PRS01CRN001C1 null
2018-12-18 16:36:51,171 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断是否到期 key:rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1
2018-12-18 16:36:51,280 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断结果:true
2018-12-18 16:36:51,389 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 开始定级 param:PressBrake11_ AlarmStateDTO{id=493165, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:36:49.093Z, isSend=false, num=2, lastAlarmTime=2018-12-18T08:36:50.109Z, level=1, isLive=false, startTime=null, endTime=null}
2018-12-18 16:36:51,389 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询频率的报警等级规则 param:PressBrake11_ frequency
2018-12-18 16:36:51,421 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数 param:10 PressBrake11_ 1 已发送
2018-12-18 16:36:51,452 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数:1
2018-12-18 16:36:51,452 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 当前规则设定次数:1
2018-12-18 16:36:51,546 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 定级结果是级别:1 重置有效时间:1 是否发通知:0
2018-12-18 16:36:51,546 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=493169, createdDate=2018-12-18T08:36:50.936Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='96ba5da001e711e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:36:30', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='1', currentValue=321.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:36:51,815 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "a4d8de2101e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:36:42", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:36:51,831 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "a4d8de2101e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:36:42", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:36:51,831 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:36:51,831 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:36:51,831 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "e076b56001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:36:55", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:36:51,831 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "e076b56001e711e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:36:55", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:36:51,831 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:36:51,831 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:36:51,831 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "0df2d7d001e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:37:04", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "326.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:36:51,831 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "0df2d7d001e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:37:04", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "326.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:36:51,847 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 保存到tt_alarm_history : AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='0df2d7d001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:04', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=326.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:36:51,847 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='0df2d7d001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:04', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=326.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:36:51,940 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认是否配置了报警等级规则（tm_alarm_level_rule） alarm_code=PressBrake11_ 
2018-12-18 16:36:51,987 INFO  [restartedMain] AdminApp: Started AdminApp in 33.285 seconds (JVM running for 34.077)
2018-12-18 16:36:51,987 INFO  [restartedMain] AdminApp: 
----------------------------------------------------------
	Application 'ipop' is running! Access URLs:
	Local: 		http://localhost:8081
	External: 	http://10.21.12.45:8081
	Profile(s): 	[swagger, no-liquibase, prod]
----------------------------------------------------------
2018-12-18 16:36:52,019 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认结果是true
2018-12-18 16:36:52,019 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 查找报警状态tm_alarm_state param:PressBrake11_ JQNPPR_1PRP1OP20PRS01CRN001C1 null
2018-12-18 16:36:52,081 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断是否到期 key:rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1
2018-12-18 16:36:52,237 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断结果:true
2018-12-18 16:36:52,347 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 开始定级 param:PressBrake11_ AlarmStateDTO{id=493165, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='316.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:36:49.093Z, isSend=false, num=3, lastAlarmTime=2018-12-18T08:36:51.640Z, level=1, isLive=false, startTime=null, endTime=null}
2018-12-18 16:36:52,347 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询频率的报警等级规则 param:PressBrake11_ frequency
2018-12-18 16:36:52,378 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数 param:10 PressBrake11_ 1 已发送
2018-12-18 16:36:52,409 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数:2
2018-12-18 16:36:52,409 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 当前规则设定次数:1
2018-12-18 16:36:52,659 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 定级结果是级别:1 重置有效时间:1 是否发通知:1
2018-12-18 16:36:52,659 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=493170, createdDate=2018-12-18T08:36:51.847Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='0df2d7d001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:04', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='1', currentValue=326.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:36:52,998 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 准备通知 param:PressBrake11_,1,JQNPPR_1PRP1OP20PRS01CRN001C1,null,326.0
2018-12-18 16:36:52,998 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendUtil: alarm send START alarmCode:PressBrake11_ alarmLevel:1 equipmentCode:JQNPPR_1PRP1OP20PRS01CRN001C1 mouldCode:null,alarmValue:326.0
2018-12-18 16:36:53,295 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendRuleServiceImpl: Request to get AlarmSendRule : 487073
2018-12-18 16:36:53,420 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendRuleServiceImpl: 发送目标对象是id:49902 userCd:apptest05
2018-12-18 16:36:53,451 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] HttpUtil: HTTPPOST START url:http://cs03.sgm.saic-gm.com/sms/message/one entity:java.io.ByteArrayInputStream@cb9f31d
2018-12-18 16:36:53,562 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] HttpUtil: HTTPPOST END url:http://cs03.sgm.saic-gm.com/sms/message/one status200 response:org.apache.http.conn.EofSensorInputStream@7067821e
2018-12-18 16:36:53,562 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] HttpUtil: HTTPEND {"message":"success"}
2018-12-18 16:36:53,563 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] SendRecordServiceImpl: Request to save SendRecord : SendRecordDTO{id=null, target='17554184152', content='尊敬的apptest05，您好！ P1OP20压机离合制动器设备P1 OP20压机离合制动器(JQNPPR_1PRP1OP20PRS01CRN001C1)，
当前进油口温度为326.0，温度异常，请检查！', sendTime='2018-12-18T08:36:53.562Z', sendType='短信', alarmLevel='1', createdBy='null', lastModifiedBy='null', createdDate='2018-12-18T08:36:53.562Z', lastModifiedDate='null', isDelete='false'}
2018-12-18 16:36:53,666 WARN  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] SqlExceptionHelper: SQL Error: 1400, SQLState: 23000
2018-12-18 16:36:53,666 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] SqlExceptionHelper: ORA-01400: cannot insert NULL into ("OWIPOP"."TT_SEND_RECORD"."CREATED_BY")

2018-12-18 16:36:53,667 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ExceptionMapperStandardImpl: HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-12-18 16:36:53,705 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生Exception异常:could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2018-12-18 16:36:53,706 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "1c0b3dd101e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:37:17", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:36:53,706 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "1c0b3dd101e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:37:17", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:36:53,706 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:36:53,706 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:36:53,706 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "498600b001e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:37:24", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "327.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:36:53,706 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "498600b001e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:37:24", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "327.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:36:53,707 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 保存到tt_alarm_history : AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='498600b001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:24', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=327.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:36:53,715 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='498600b001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:24', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=327.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:36:53,818 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认是否配置了报警等级规则（tm_alarm_level_rule） alarm_code=PressBrake11_ 
2018-12-18 16:36:53,893 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认结果是true
2018-12-18 16:36:53,894 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 查找报警状态tm_alarm_state param:PressBrake11_ JQNPPR_1PRP1OP20PRS01CRN001C1 null
2018-12-18 16:36:53,958 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断是否到期 key:rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1
2018-12-18 16:36:54,123 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断结果:false
2018-12-18 16:36:54,616 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmStateServiceImpl: Request to save AlarmState : AlarmStateDTO{id=null, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='327.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:36:54.616Z, isSend=false, num=1, lastAlarmTime=2018-12-18T08:36:54.616Z, level=0, isLive=false, startTime=null, endTime=null}
2018-12-18 16:36:54,718 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendUtil: alarm send START alarmCode:PressBrake11_ alarmLevel:0 equipmentCode:JQNPPR_1PRP1OP20PRS01CRN001C1 mouldCode:null,alarmValue:327.0
2018-12-18 16:36:54,911 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendUtil: 模板未找到 code:PressBrake11_ level:0
2018-12-18 16:36:55,303 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 开始定级 param:PressBrake11_ AlarmStateDTO{id=493173, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='327.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:36:54.616Z, isSend=false, num=1, lastAlarmTime=2018-12-18T08:36:54.616Z, level=0, isLive=false, startTime=null, endTime=null}
2018-12-18 16:36:55,304 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询频率的报警等级规则 param:PressBrake11_ frequency
2018-12-18 16:36:55,336 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数 param:10 PressBrake11_ 0 已发送
2018-12-18 16:36:55,369 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数:0
2018-12-18 16:36:55,369 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 当前规则设定次数:1
2018-12-18 16:36:55,467 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 定级结果是级别:1 重置有效时间:1 是否发通知:0
2018-12-18 16:36:55,468 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=493172, createdDate=2018-12-18T08:36:53.716Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='498600b001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:24', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='1', currentValue=327.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:36:55,640 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 准备通知 param:PressBrake11_,1,JQNPPR_1PRP1OP20PRS01CRN001C1,null,327.0
2018-12-18 16:36:55,640 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendUtil: alarm send START alarmCode:PressBrake11_ alarmLevel:1 equipmentCode:JQNPPR_1PRP1OP20PRS01CRN001C1 mouldCode:null,alarmValue:327.0
2018-12-18 16:36:55,905 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendRuleServiceImpl: Request to get AlarmSendRule : 487073
2018-12-18 16:36:56,005 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendRuleServiceImpl: 发送目标对象是id:49902 userCd:apptest05
2018-12-18 16:36:56,036 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] HttpUtil: HTTPPOST START url:http://cs03.sgm.saic-gm.com/sms/message/one entity:java.io.ByteArrayInputStream@7f617dd2
2018-12-18 16:36:56,130 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] HttpUtil: HTTPPOST END url:http://cs03.sgm.saic-gm.com/sms/message/one status200 response:org.apache.http.conn.EofSensorInputStream@441c1d51
2018-12-18 16:36:56,130 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] HttpUtil: HTTPEND {"message":"success"}
2018-12-18 16:36:56,130 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] SendRecordServiceImpl: Request to save SendRecord : SendRecordDTO{id=null, target='17554184152', content='尊敬的apptest05，您好！ P1OP20压机离合制动器设备P1 OP20压机离合制动器(JQNPPR_1PRP1OP20PRS01CRN001C1)，
当前进油口温度为327.0，温度异常，请检查！', sendTime='2018-12-18T08:36:56.130Z', sendType='短信', alarmLevel='1', createdBy='null', lastModifiedBy='null', createdDate='2018-12-18T08:36:56.130Z', lastModifiedDate='null', isDelete='false'}
2018-12-18 16:36:56,255 WARN  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] SqlExceptionHelper: SQL Error: 1400, SQLState: 23000
2018-12-18 16:36:56,255 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] SqlExceptionHelper: ORA-01400: cannot insert NULL into ("OWIPOP"."TT_SEND_RECORD"."CREATED_BY")

2018-12-18 16:36:56,255 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ExceptionMapperStandardImpl: HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-12-18 16:36:56,286 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生Exception异常:could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2018-12-18 16:36:56,286 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "57a5448001e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:37:35", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:36:56,286 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "57a5448001e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 OP20\u538b\u673a\u4e3b\u7535\u673a-3\u7ebf2#\u538b\u673aP3_OP20_20_M11", "Alarmtime": "2018-12-18 14:37:35", "AlarmID": "83", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressMachinery4_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3OP20PRS01CRN001M1"}
2018-12-18 16:36:56,286 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:36:56,286 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:36:56,286 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "57a5e0c001e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:37:43", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:36:56,286 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "57a5e0c001e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P3 \u96c6\u4e2d\u6db2\u538b\u7ad9-3\u7ebf\u4e2d\u63a75#P3_05_M16", "Alarmtime": "2018-12-18 14:37:43", "AlarmID": "92", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "0.0", "Alarmuplimit": -50.0, "Alarmrules": "PressStation6_", "Feature": "null", "Alarmlevel": "1", "Keycode": "JQNPPR_1PRP3CNTRCSS01CHY001"}
2018-12-18 16:36:56,286 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: AlarmIDName字段不能为空
2018-12-18 16:36:56,286 ERROR [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 发生KafkaParseMsgException异常:必填字段为空
2018-12-18 16:36:56,286 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 收到kafka报警消息,{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "8520076001e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:37:50", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "326.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:36:56,302 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmConsumer: 处理\后:{"AlarmIDName": "\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmlowerlimit": 0, "alarmsystem": "JQPRESS", "recordid": "8520076001e811e998cdd5e7f377d9e2", "EAMreadtime": "", "Alarmrulesname": "P1OP20\u538b\u673a\u79bb\u5408\u5236\u52a8\u5668\u8fdb\u6cb9\u53e3\u6e29\u5ea6", "Alarmtime": "2018-12-18 14:37:50", "AlarmID": "22", "EAMreadstatus": "", "Featurecalculate": 0.0, "Currentvalue": "326.0", "Alarmuplimit": 1.0, "Alarmrules": "PressBrake11_", "Feature": "null", "Alarmlevel": "2", "Keycode": "JQNPPR_1PRP1OP20PRS01CRN001C1"}
2018-12-18 16:36:56,302 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 保存到tt_alarm_history : AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='8520076001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:50', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=326.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:36:56,302 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=null, createdDate=null, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='8520076001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:50', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='2', currentValue=326.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:36:56,396 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认是否配置了报警等级规则（tm_alarm_level_rule） alarm_code=PressBrake11_ 
2018-12-18 16:36:56,458 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 确认结果是true
2018-12-18 16:36:56,458 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 查找报警状态tm_alarm_state param:PressBrake11_ JQNPPR_1PRP1OP20PRS01CRN001C1 null
2018-12-18 16:36:56,521 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断是否到期 key:rule_PressBrake11__JQNPPR_1PRP1OP20PRS01CRN001C1
2018-12-18 16:36:56,693 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 判断结果:true
2018-12-18 16:36:56,858 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 开始定级 param:PressBrake11_ AlarmStateDTO{id=493173, alarmobject='JQNPPR_1PRP1OP20PRS01CRN001C1_null', value='327.0', alarmCode='PressBrake11_', firstAlarmTime=2018-12-18T08:36:54.616Z, isSend=false, num=2, lastAlarmTime=2018-12-18T08:36:55.581Z, level=1, isLive=false, startTime=null, endTime=null}
2018-12-18 16:36:56,858 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询频率的报警等级规则 param:PressBrake11_ frequency
2018-12-18 16:36:56,890 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数 param:10 PressBrake11_ 1 已发送
2018-12-18 16:36:56,921 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 查询此报警的持续次数:2
2018-12-18 16:36:56,921 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmLevelRuleServiceImpl: 当前规则设定次数:1
2018-12-18 16:36:57,108 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 定级结果是级别:1 重置有效时间:1 是否发通知:1
2018-12-18 16:36:57,108 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryServiceImpl: 错误信息存入历史表: AlarmHistoryDTO{id=493175, createdDate=2018-12-18T08:36:56.302Z, equipment='JQNPPR_1PRP1OP20PRS01CRN001C1', mould='null', description='null', recordId='8520076001e811e998cdd5e7f377d9e2', alarmSystem='JQPRESS', alarmTime='2018-12-18 14:37:50', keyCode='JQNPPR_1PRP1OP20PRS01CRN001C1', alarmID='22', alarmIdName='进油口温度', alarmLevel='1', currentValue=326.0, feature='null', featureCalculate=0.0, alarmUpLimit=1.0, alarmLowerLimit=0.0, alarmRules=PressBrake11_, alarmRulesName='P1OP20压机离合制动器进油口温度', eamReadTime='', eamReadStatus='', evtCode='null', workOrderStatus='null'}
2018-12-18 16:36:57,468 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmHistoryResource: 准备通知 param:PressBrake11_,1,JQNPPR_1PRP1OP20PRS01CRN001C1,null,326.0
2018-12-18 16:36:57,468 INFO  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendUtil: alarm send START alarmCode:PressBrake11_ alarmLevel:1 equipmentCode:JQNPPR_1PRP1OP20PRS01CRN001C1 mouldCode:null,alarmValue:326.0
2018-12-18 16:36:57,741 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] AlarmSendRuleServiceImpl: Request to get AlarmSendRule : 487073
